var goog=goog||{};goog.DEBUG=!1,goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,i){var o=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,o)}},goog.userAgent||(goog.userAgent=function(){var e="";"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(e=navigator.userAgent);var t=0==e.indexOf("Opera");return{jscript:{HAS_JSCRIPT:"ScriptEngine"in this},OPERA:t,IE:!t&&-1!=e.indexOf("MSIE"),WEBKIT:!t&&-1!=e.indexOf("WebKit")}}()),goog.asserts||(goog.asserts={assert:function(e){if(!e)throw Error("Assertion error")},fail:function(e){}}),goog.dom||(goog.dom={},goog.dom.DomHelper=function(e){this.document_=e||document},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),goog.format||(goog.format={insertWordBreaks:function(e,t){e=String(e);for(var n=[],i=0,o=!1,s=!1,a=0,r=0,l=0,c=e.length;c>l;++l){var u=e.charCodeAt(l);if(a>=t&&32!=u&&(n[i++]=e.substring(r,l),r=l,n[i++]=goog.format.WORD_BREAK,a=0),o)62==u&&(o=!1);else if(s)switch(u){case 59:s=!1,++a;break;case 60:s=!1,o=!0;break;case 32:s=!1,a=0}else switch(u){case 60:o=!0;break;case 38:s=!0;break;case 32:a=0;break;default:++a}}return n[i++]=e.substring(r),n.join("")},WORD_BREAK:goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.userAgent.IE?"&#8203;":"<wbr>"}),goog.i18n||(goog.i18n={bidi:{}}),goog.i18n.bidi.IS_RTL=!1,goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0},goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.estimateDirection=function(e,t){for(var n=0,i=0,o=!1,s=soyshim.$$bidiStripHtmlIfNecessary_(e,t).split(soyshim.$$bidiWordSeparatorRe_),a=0;a<s.length;a++){var r=s[a];soyshim.$$bidiRtlDirCheckRe_.test(r)?(n++,i++):soyshim.$$bidiIsRequiredLtrRe_.test(r)?o=!0:soyshim.$$bidiLtrCharRe_.test(r)?i++:soyshim.$$bidiHasNumeralsRe_.test(r)&&(o=!0)}return 0==i?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/i>soyshim.$$bidiRtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.BidiFormatter=function(e){this.dir_=goog.i18n.bidi.toDir(e,!0)},goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_},goog.i18n.BidiFormatter.prototype.knownDirAttr=function(e){return e&&e!=this.dir_?0>e?'dir="rtl"':'dir="ltr"':""},goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},goog.i18n.BidiFormatter.prototype.mark=function(){return this.dir_>0?"‎":this.dir_<0?"‏":""},goog.i18n.BidiFormatter.prototype.markAfterKnownDir=function(e,t,n){return null==e&&(e=goog.i18n.bidi.estimateDirection(t,n)),this.dir_>0&&(0>e||soyshim.$$bidiIsRtlExitText_(t,n))?"‎":this.dir_<0&&(e>0||soyshim.$$bidiIsLtrExitText_(t,n))?"‏":""},goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(e,t,n){null==e&&(e=goog.i18n.bidi.estimateDirection(t,!0));var i=this.markAfterKnownDir(e,t,!0);return e>0&&this.dir_<=0?t='<span dir="ltr">'+t+"</span>":0>e&&this.dir_>=0&&(t='<span dir="rtl">'+t+"</span>"),t+i},goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(e,t,n){null==e&&(e=goog.i18n.bidi.estimateDirection(t,n));var i=this.markAfterKnownDir(e,t,n);return e>0&&this.dir_<=0?t="‪"+t+"‬":0>e&&this.dir_>=0&&(t="‫"+t+"‬"),t+i},goog.string||(goog.string={newLineToBr:function(e,t){return e=String(e),goog.string.NEWLINE_TO_BR_RE_.test(e)?e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>"):e},htmlEscape:function(e,t){return t?e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"):goog.string.ALL_RE_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\x00")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),e):e},urlEncode:encodeURIComponent,AMP_RE_:/&/g,LT_RE_:/</g,GT_RE_:/>/g,QUOT_RE_:/"/g,SINGLE_QUOTE_RE_:/'/g,NULL_RE_:/\x00/g,ALL_RE_:/[&<>"']/,NEWLINE_TO_BR_RE_:/[\r\n]/}),goog.string.StringBuffer=function(e,t){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"",null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.bufferLength_=0,goog.string.StringBuffer.prototype.append=function(e,t,n){if(goog.userAgent.jscript.HAS_JSCRIPT)if(null==t)this.buffer_[this.bufferLength_++]=e;else{var i=this.buffer_;i.push.apply(i,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=e,null!=t)for(var o=1;o<arguments.length;o++)this.buffer_+=arguments[o];return this},goog.string.StringBuffer.prototype.clear=function(){goog.userAgent.jscript.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var e=this.buffer_.join("");return this.clear(),e&&this.append(e),e}return this.buffer_},goog.soy||(goog.soy={renderAsElement:function(e,t,n,i){return soyshim.$$renderWithWrapper_(e,t,i,!0,n)},renderAsFragment:function(e,t,n,i){return soyshim.$$renderWithWrapper_(e,t,i,!1,n)},renderElement:function(e,t,n,i){e.innerHTML=t(n,null,i)},data:{}}),goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:goog.DEBUG?{sanitizedContentJsChars:!0}:{},URI:goog.DEBUG?{sanitizedContentUri:!0}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:goog.DEBUG?{sanitizedContentCss:!0}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:!0}:{}},goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},goog.soy.data.SanitizedContent.prototype.contentKind,goog.soy.data.SanitizedContent.prototype.contentDir=null,goog.soy.data.SanitizedContent.prototype.content,goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var soy={esc:{}},soydata={};soydata.VERY_UNSAFE={};var soyshim={$$DEFAULT_TEMPLATE_DATA_:{}};soyshim.$$renderWithWrapper_=function(e,t,n,i,o){var s=n||document,a=s.createElement("div");if(a.innerHTML=e(t||soyshim.$$DEFAULT_TEMPLATE_DATA_,void 0,o),1==a.childNodes.length){var r=a.firstChild;if(!i||1==r.nodeType)return r}if(i)return a;for(var l=s.createDocumentFragment();a.firstChild;)l.appendChild(a.firstChild);return l},soyshim.$$bidiStripHtmlIfNecessary_=function(e,t){return t?e.replace(soyshim.$$BIDI_HTML_SKIP_RE_,""):e},soyshim.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,soyshim.$$bidiLtrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",soyshim.$$bidiRtlChars_="֑-߿‏יִ-﷿ﹰ-ﻼ",soyshim.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soyshim.$$bidiLtrChars_+"]*["+soyshim.$$bidiRtlChars_+"]"),soyshim.$$bidiLtrCharRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"]"),soyshim.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/,soyshim.$$bidiHasNumeralsRe_=/\d/,soyshim.$$bidiWordSeparatorRe_=/\s+/,soyshim.$$bidiRtlDetectionThreshold_=.4,soyshim.$$bidiLtrExitDirCheckRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"][^"+soyshim.$$bidiRtlChars_+"]*$"),soyshim.$$bidiRtlExitDirCheckRe_=new RegExp("["+soyshim.$$bidiRtlChars_+"][^"+soyshim.$$bidiLtrChars_+"]*$"),soyshim.$$bidiIsLtrExitText_=function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiLtrExitDirCheckRe_.test(e)},soyshim.$$bidiIsRtlExitText_=function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiRtlExitDirCheckRe_.test(e)},soy.StringBuilder=goog.string.StringBuffer,soydata.SanitizedContentKind=goog.soy.data.SanitizedContentKind,soydata.isContentKind=function(e,t){return null!=e&&e.contentKind===t},soydata.getContentDir=function(e){if(null!=e)switch(e.contentDir){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Dir.LTR;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Dir.RTL;case goog.i18n.bidi.Dir.NEUTRAL:return goog.i18n.bidi.Dir.NEUTRAL}return null},soydata.SanitizedHtml=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtml,goog.soy.data.SanitizedContent),soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML,soydata.SanitizedHtml.from=function(e){return null!=e&&e.contentKind===soydata.SanitizedContentKind.HTML?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),e):soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.esc.$$escapeHtmlHelper(String(e)),soydata.getContentDir(e))},soydata.SanitizedJs=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedJs,goog.soy.data.SanitizedContent),soydata.SanitizedJs.prototype.contentKind=soydata.SanitizedContentKind.JS,soydata.SanitizedJs.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedUri,goog.soy.data.SanitizedContent),soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI,soydata.SanitizedUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.SanitizedHtmlAttribute=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedHtmlAttribute,goog.soy.data.SanitizedContent),soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.ATTRIBUTES,soydata.SanitizedHtmlAttribute.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.SanitizedCss=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(soydata.SanitizedCss,goog.soy.data.SanitizedContent),soydata.SanitizedCss.prototype.contentKind=soydata.SanitizedContentKind.CSS,soydata.SanitizedCss.prototype.contentDir=goog.i18n.bidi.Dir.LTR,soydata.UnsanitizedText=function(e,t){this.content=String(e),this.contentDir=null!=t?t:null},goog.inherits(soydata.UnsanitizedText,goog.soy.data.SanitizedContent),soydata.UnsanitizedText.prototype.contentKind=soydata.SanitizedContentKind.TEXT,soydata.$$EMPTY_STRING_={VALUE:""},soydata.$$makeSanitizedContentFactory_=function(e){function t(){}function n(e,n){var i=new t;return i.content=String(e),void 0!==n&&(i.contentDir=n),i}return t.prototype=e.prototype,n},soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(e){function t(){}function n(e){var n=new t;return n.content=String(e),n}return t.prototype=e.prototype,n},soydata.markUnsanitizedText=function(e,t){return new soydata.UnsanitizedText(e,t)},soydata.VERY_UNSAFE.ordainSanitizedHtml=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.ordainSanitizedJs=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedJs),soydata.VERY_UNSAFE.ordainSanitizedUri=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedUri),soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.ordainSanitizedCss=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedCss),soy.renderElement=goog.soy.renderElement,soy.renderAsFragment=function(e,t,n,i){return goog.soy.renderAsFragment(e,t,i,new goog.dom.DomHelper(n))},soy.renderAsElement=function(e,t,n,i){return goog.soy.renderAsElement(e,t,i,new goog.dom.DomHelper(n))},soy.$$IS_LOCALE_RTL=goog.i18n.bidi.IS_RTL,soy.$$augmentMap=function(e,t){function n(){}n.prototype=e;var i=new n;for(var o in t)i[o]=t[o];return i},soy.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+typeof e+'").');return e},soy.$$getMapKeys=function(e){var t=[];for(var n in e)t.push(n);return t},soy.$$getDelTemplateId=function(e){return e},soy.$$DELEGATE_REGISTRY_PRIORITIES_={},soy.$$DELEGATE_REGISTRY_FUNCTIONS_={},soy.$$registerDelegateFn=function(e,t,n,i){var o="key_"+e+":"+t,s=soy.$$DELEGATE_REGISTRY_PRIORITIES_[o];if(void 0===s||n>s)soy.$$DELEGATE_REGISTRY_PRIORITIES_[o]=n,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[o]=i;else if(n==s)throw Error('Encountered two active delegates with the same priority ("'+e+":"+t+'").')},soy.$$getDelegateFn=function(e,t,n){var i=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"+t];if(i||""==t||(i=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e+":"]),i)return i;if(n)return soy.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+e+":"+t+'" (and not allowemptydefault="true").')},soy.$$EMPTY_TEMPLATE_FN_=function(e,t,n){return""},soydata.$$makeSanitizedContentFactoryForInternalBlocks_=function(e){function t(){}function n(e,n){var i=String(e);if(!i)return soydata.$$EMPTY_STRING_.VALUE;var o=new t;return o.content=String(e),void 0!==n&&(o.contentDir=n),o}return t.prototype=e.prototype,n},soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(e){function t(){}function n(e){var n=String(e);if(!n)return soydata.$$EMPTY_STRING_.VALUE;var i=new t;return i.content=String(e),i}return t.prototype=e.prototype,n},soydata.$$markUnsanitizedTextForInternalBlocks=function(e,t){var n=String(e);return n?new soydata.UnsanitizedText(n,t):soydata.$$EMPTY_STRING_.VALUE},soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=soydata.$$makeSanitizedContentFactoryForInternalBlocks_(soydata.SanitizedHtml),soydata.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedJs),soydata.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedUri),soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedHtmlAttribute),soydata.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedCss),soy.$$escapeHtml=function(e){return soydata.SanitizedHtml.from(e)},soy.$$cleanHtml=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),e):soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$stripHtmlTags(e,soy.esc.$$SAFE_TAG_WHITELIST_),soydata.getContentDir(e))},soy.$$escapeHtmlRcdata=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(e.content)):soy.esc.$$escapeHtmlHelper(e)},soy.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b"),soy.$$stripHtmlTags=function(e,t){if(!t)return String(e).replace(soy.esc.$$HTML_TAG_REGEX_,"").replace(soy.esc.$$LT_REGEX_,"&lt;");var n=String(e).replace(/\[/g,"&#91;"),i=[];n=n.replace(soy.esc.$$HTML_TAG_REGEX_,function(e,n){if(n&&(n=n.toLowerCase(),t.hasOwnProperty(n)&&t[n])){var o="/"===e.charAt(1)?"</":"<",s=i.length;return i[s]=o+n+">","["+s+"]"}return""}),n=soy.esc.$$normalizeHtmlHelper(n);var o=soy.$$balanceTags_(i);return n=n.replace(/\[(\d+)\]/g,function(e,t){return i[t]}),n+o},soy.$$balanceTags_=function(e){for(var t=[],n=0,i=e.length;i>n;++n){var o=e[n];if("/"===o.charAt(1)){for(var s=t.length-1;s>=0&&t[s]!=o;)s--;0>s?e[n]="":(e[n]=t.slice(s).reverse().join(""),t.length=s)}else soy.$$HTML5_VOID_ELEMENTS_.test(o)||t.push("</"+o.substring(1))}return t.reverse().join("")},soy.$$escapeHtmlAttribute=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(e.content))):soy.esc.$$escapeHtmlHelper(e)},soy.$$escapeHtmlAttributeNospace=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.HTML)?(goog.asserts.assert(e.constructor===soydata.SanitizedHtml),soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(e.content))):soy.esc.$$escapeHtmlNospaceHelper(e)},soy.$$filterHtmlAttributes=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.ATTRIBUTES)?(goog.asserts.assert(e.constructor===soydata.SanitizedHtmlAttribute),e.content.replace(/([^"'\s])$/,"$1 ")):soy.esc.$$filterHtmlAttributesHelper(e)},soy.$$filterHtmlElementName=function(e){return soy.esc.$$filterHtmlElementNameHelper(e)},soy.$$escapeJs=function(e){return soy.$$escapeJsString(e)},soy.$$escapeJsString=function(e){return soy.esc.$$escapeJsStringHelper(e)},soy.$$escapeJsValue=function(e){if(null==e)return" null ";if(soydata.isContentKind(e,soydata.SanitizedContentKind.JS))return goog.asserts.assert(e.constructor===soydata.SanitizedJs),e.content;switch(typeof e){case"boolean":case"number":return" "+e+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(e))+"'"}},soy.$$escapeJsRegex=function(e){return soy.esc.$$escapeJsRegexHelper(e)},soy.$$problematicUriMarks_=/['()]/g,soy.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},soy.$$escapeUri=function(e){if(soydata.isContentKind(e,soydata.SanitizedContentKind.URI))return goog.asserts.assert(e.constructor===soydata.SanitizedUri),soy.$$normalizeUri(e);var t=soy.esc.$$escapeUriHelper(e);return soy.$$problematicUriMarks_.lastIndex=0,soy.$$problematicUriMarks_.test(t)?t.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):t},soy.$$normalizeUri=function(e){return soy.esc.$$normalizeUriHelper(e)},soy.$$filterNormalizeUri=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.URI)?(goog.asserts.assert(e.constructor===soydata.SanitizedUri),soy.$$normalizeUri(e)):soy.esc.$$filterNormalizeUriHelper(e)},soy.$$filterImageDataUri=function(e){return soydata.VERY_UNSAFE.ordainSanitizedUri(soy.esc.$$filterImageDataUriHelper(e))},soy.$$escapeCssString=function(e){return soy.esc.$$escapeCssStringHelper(e)},soy.$$filterCssValue=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.CSS)?(goog.asserts.assert(e.constructor===soydata.SanitizedCss),e.content):null==e?"":soy.esc.$$filterCssValueHelper(e)},soy.$$filterNoAutoescape=function(e){return soydata.isContentKind(e,soydata.SanitizedContentKind.TEXT)?(goog.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[e.content]),"zSoyz"):e},soy.$$changeNewlineToBr=function(e){var t=goog.string.newLineToBr(String(e),!1);return soydata.isContentKind(e,soydata.SanitizedContentKind.HTML)?soydata.VERY_UNSAFE.ordainSanitizedHtml(t,soydata.getContentDir(e)):t},soy.$$insertWordBreaks=function(e,t){var n=goog.format.insertWordBreaks(String(e),t);return soydata.isContentKind(e,soydata.SanitizedContentKind.HTML)?soydata.VERY_UNSAFE.ordainSanitizedHtml(n,soydata.getContentDir(e)):n},soy.$$truncate=function(e,t,n){return e=String(e),e.length<=t?e:(n&&(t>3?t-=3:n=!1),soy.$$isHighSurrogate_(e.charAt(t-1))&&soy.$$isLowSurrogate_(e.charAt(t))&&(t-=1),e=e.substring(0,t),n&&(e+="..."),e)},soy.$$isHighSurrogate_=function(e){return e>=55296&&56319>=e},soy.$$isLowSurrogate_=function(e){return e>=56320&&57343>=e},soy.$$bidiFormatterCache_={},soy.$$getBidiFormatterInstance_=function(e){return soy.$$bidiFormatterCache_[e]||(soy.$$bidiFormatterCache_[e]=new goog.i18n.BidiFormatter(e))},soy.$$bidiTextDir=function(e,t){var n=soydata.getContentDir(e);if(null!=n)return n;var i=t||soydata.isContentKind(e,soydata.SanitizedContentKind.HTML);return goog.i18n.bidi.estimateDirection(e+"",i)},soy.$$bidiDirAttr=function(e,t,n){var i=soy.$$getBidiFormatterInstance_(e),o=soydata.getContentDir(t);if(null==o){var s=n||soydata.isContentKind(t,soydata.SanitizedContentKind.HTML);o=goog.i18n.bidi.estimateDirection(t+"",s)}return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute(i.knownDirAttr(o))},soy.$$bidiMarkAfter=function(e,t,n){var i=soy.$$getBidiFormatterInstance_(e),o=n||soydata.isContentKind(t,soydata.SanitizedContentKind.HTML);return i.markAfterKnownDir(soydata.getContentDir(t),t+"",o)},soy.$$bidiSpanWrap=function(e,t){var n=soy.$$getBidiFormatterInstance_(e),i=n.spanWrapWithKnownDir(soydata.getContentDir(t),t+"",!0);return i},soy.$$bidiUnicodeWrap=function(e,t){var n=soy.$$getBidiFormatterInstance_(e),i=soydata.isContentKind(t,soydata.SanitizedContentKind.HTML),o=n.unicodeWrapWithKnownDir(soydata.getContentDir(t),t+"",i),s=n.getContextDir();return soydata.isContentKind(t,soydata.SanitizedContentKind.TEXT)?new soydata.UnsanitizedText(o,s):i?soydata.VERY_UNSAFE.ordainSanitizedHtml(o,s):o},soy.esc.$$escapeUriHelper=function(e){return encodeURIComponent(String(e))},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"&#0;","	":"&#9;","\n":"&#10;","":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\b":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22",$:"\\x24","&":"\\x26","'":"\\x27","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e","/":"\\/",":":"\\x3a","<":"\\x3c","=":"\\x3d",">":"\\x3e","?":"\\x3f","[":"\\x5b","\\":"\\\\","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029"},soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\b":"\\8 ","	":"\\9 ","\n":"\\a ","":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[e]},soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","	":"%09","\n":"%0A","":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[e]},soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,soy.esc.$$escapeHtmlHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeHtmlNospaceHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlNospaceHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeJsStringHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeJsRegexHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeCssStringHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},soy.esc.$$filterCssValueHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(t)?t:"zSoyz"},soy.esc.$$normalizeUriHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},soy.esc.$$filterNormalizeUriHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(t)?t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"#zSoyz"},soy.esc.$$filterImageDataUriHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(t)?t:"data:image/gif;base64,zSoyz"},soy.esc.$$filterHtmlAttributesHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(t)?t:"zSoyz"},soy.esc.$$filterHtmlElementNameHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(t)?t:"zSoyz"},soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,soy.esc.$$LT_REGEX_=/</g,soy.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1},this.ui={},function(e){var t=e.babelHelpers={};t.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},t.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t.get=function n(e,t,i){var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var s=Object.getPrototypeOf(e);return null===s?void 0:n(s,t,i)}if("value"in o)return o.value;var a=o.get;return void 0===a?void 0:a.call(i)},t.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}("undefined"==typeof global?self:global),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"abstractMethod",value:function(){throw Error("Unimplemented abstract method")}},{key:"collectSuperClassesProperty",value:function(e,t){for(var n=[e[t]];e.__proto__&&!e.__proto__.isPrototypeOf(Function);)e=e.__proto__,n.push(e[t]);return n}},{key:"getUid",value:function(t){return t?t[e.UID_PROPERTY]||(t[e.UID_PROPERTY]=e.uniqueIdCounter_++):e.uniqueIdCounter_++}},{key:"identityFunction",value:function(e){return e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isDef",value:function(e){return void 0!==e}},{key:"isDefAndNotNull",value:function(t){return e.isDef(t)&&!e.isNull(t)}},{key:"isDocument",value:function(e){return e&&"object"==typeof e&&9===e.nodeType}},{key:"isElement",value:function(e){return e&&"object"==typeof e&&1===e.nodeType}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isNull",value:function(e){return null===e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isWindow",value:function(e){return null!==e&&e===e.window}},{key:"isObject",value:function(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"mergeSuperClassesProperty",value:function(t,n,i){var o=n+"_MERGED";if(t.hasOwnProperty(o))return!1;var s=e.collectSuperClassesProperty(t,n);return i&&(s=i(s)),t[o]=s,!0}},{key:"nullFunction",value:function(){}}]),e}();e.UID_PROPERTY="core_"+(1e9*Math.random()>>>0),e.uniqueIdCounter_=1,this.ui.core=e}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"mixin",value:function(e){for(var t,n,i=1;i<arguments.length;i++){n=arguments[i];for(t in n)e[t]=n[t]}return e}}]),e}();this.ui.object=e}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e),this.disposed_=!1}return babelHelpers.createClass(e,[{key:"dispose",value:function(){this.disposed_||(this.disposeInternal(),this.disposed_=!0)}},{key:"disposeInternal",value:function(){}},{key:"isDisposed",value:function(){return this.disposed_}}]),e}();this.ui.Disposable=e}.call(this),function(){"use strict";var e=this.ui.Disposable,t=function(e){function t(e,n,i){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.emitter_=e,this.event_=n,this.listener_=i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"disposeInternal",value:function(){this.removeListener(),this.emitter_=null,this.listener_=null}},{key:"removeListener",value:function(){this.emitter_.isDisposed()||this.emitter_.removeListener(this.event_,this.listener_)}}]),t}(e);this.ui.EventHandle=t}.call(this),function(){"use strict";var e=this.ui.EventHandle,t=function(e){function t(e,n,i){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n,i)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"removeListener",value:function(){this.emitter_.removeEventListener(this.event_,this.listener_);

}}]),t}(e);this.ui.DomEventHandle=t}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.object,n=this.ui.DomEventHandle,i=function(){function i(){babelHelpers.classCallCheck(this,i)}return babelHelpers.createClass(i,null,[{key:"addClasses",value:function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?i.addClassesWithNative_(t,n):i.addClassesWithoutNative_(t,n))}},{key:"addClassesWithNative_",value:function(e,t){t.split(" ").forEach(function(t){e.classList.add(t)})}},{key:"addClassesWithoutNative_",value:function(e,t){var n=" "+e.className+" ",i="";t=t.split(" ");for(var o=0;o<t.length;o++){var s=t[o];-1===n.indexOf(" "+s+" ")&&(i+=" "+s)}i&&(e.className=e.className+i)}},{key:"append",value:function(t,n){return e.isString(n)&&(n=i.buildFragment(n)),t.appendChild(n)}},{key:"buildFragment",value:function(e){var t=document.createElement("div");t.innerHTML="<br>"+e,t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n}},{key:"delegate",value:function(e,t,n,o){var s=i.customEvents[t];return s&&s.delegate&&(t=s.originalEvent,o=s.handler.bind(s,o)),i.on(e,t,i.handleDelegateEvent_.bind(null,n,o))}},{key:"enterDocument",value:function(e){i.append(document.body,e)}},{key:"exitDocument",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"handleDelegateEvent_",value:function(t,n,o){i.normalizeDelegateEvent_(o);for(var s=o.target,a=!0;s&&!o.stopped;)e.isString(t)&&i.match(s,t)&&(o.delegateTarget=s,a&=n(o)),s=s.parentNode;return a}},{key:"hasClass",value:function(e,t){return"classList"in e?i.hasClassWithNative_(e,t):i.hasClassWithoutNative_(e,t)}},{key:"hasClassWithNative_",value:function(e,t){return e.classList.contains(t)}},{key:"hasClassWithoutNative_",value:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0}},{key:"isEmpty",value:function(e){return 0===e.childNodes.length}},{key:"match",value:function(e,t){if(!e||1!==e.nodeType)return!1;var n=Element.prototype,o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return o?o.call(e,t):i.matchFallback_(e,t)}},{key:"matchFallback_",value:function(e,t){for(var n=document.querySelectorAll(t,e.parentNode),i=0;i<n.length;++i)if(n[i]===e)return!0;return!1}},{key:"normalizeDelegateEvent_",value:function(e){e.stopPropagation=i.stopPropagation_,e.stopImmediatePropagation=i.stopImmediatePropagation_}},{key:"on",value:function(e,t,o){var s=i.customEvents[t];return s&&s.event&&(t=s.originalEvent,o=s.handler.bind(s,o)),e.addEventListener(t,o),new n(e,t,o)}},{key:"registerCustomEvent",value:function(e,t){i.customEvents[e]=t}},{key:"removeChildren",value:function(e){for(var t;t=e.firstChild;)e.removeChild(t)}},{key:"removeClasses",value:function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?i.removeClassesWithNative_(t,n):i.removeClassesWithoutNative_(t,n))}},{key:"removeClassesWithNative_",value:function(e,t){t.split(" ").forEach(function(t){e.classList.remove(t)})}},{key:"removeClassesWithoutNative_",value:function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var i=0;i<t.length;i++)n=n.replace(" "+t[i]+" "," ");e.className=n.trim()}},{key:"replace",value:function(e,t){e&&t&&e!==t&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))}},{key:"stopImmediatePropagation_",value:function(){this.stopped=!0,Event.prototype.stopImmediatePropagation.call(this)}},{key:"stopPropagation_",value:function(){this.stopped=!0,Event.prototype.stopPropagation.call(this)}},{key:"supportsEvent",value:function(t,n){return i.customEvents[n]?!0:(e.isString(t)&&(o[t]||(o[t]=document.createElement(t)),t=o[t]),"on"+n in t)}},{key:"toElement",value:function(t){return e.isElement(t)||e.isDocument(t)?t:e.isString(t)?"#"===t[0]&&-1===t.indexOf(" ")?document.getElementById(t.substr(1)):document.querySelector(t):null}},{key:"toggleClasses",value:function(t,n){e.isObject(t)&&e.isString(n)&&("classList"in t?i.toggleClassesWithNative_(t,n):i.toggleClassesWithoutNative_(t,n))}},{key:"toggleClassesWithNative_",value:function(e,t){t.split(" ").forEach(function(t){e.classList.toggle(t)})}},{key:"toggleClassesWithoutNative_",value:function(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var i=0;i<t.length;i++){var o=" "+t[i]+" ",s=n.indexOf(o);n=-1===s?n+t[i]+" ":n.substring(0,s)+" "+n.substring(s+o.length)}e.className=n.trim()}},{key:"triggerEvent",value:function(e,n,i){var o=document.createEvent("HTMLEvents");o.initEvent(n,!0,!0),t.mixin(o,i),e.dispatchEvent(o)}}]),i}(),o={};i.customEvents={};var s={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"};Object.keys(s).forEach(function(e){i.registerCustomEvent(e,{delegate:!0,handler:function(t,n){var i=n.relatedTarget,o=n.delegateTarget||n.target;return!i||i!==o&&!o.contains(i)?(n.customType=e,t(n)):void 0},originalEvent:s[e]})}),this.ui.dom=i}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"intersectRect",value:function(e,t,n,i,o,s,a,r){return!(o>n||e>a||s>i||t>r)}}]),e}();this.ui.math=e}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.math,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"getClientHeight",value:function(e){return this.getClientSize_(e,"Height")}},{key:"getClientSize_",value:function(t,n){var i=t;return e.isWindow(t)&&(i=t.document.documentElement),e.isDocument(t)&&(i=t.documentElement),i["client"+n]}},{key:"getClientWidth",value:function(e){return this.getClientSize_(e,"Width")}},{key:"getDocumentRegion_",value:function(e){var t=this.getHeight(e),n=this.getWidth(e);return this.makeRegion(t,t,0,n,0,n)}},{key:"getHeight",value:function(e){return this.getSize_(e,"Height")}},{key:"getRegion",value:function(t){return e.isDocument(t)||e.isWindow(t)?this.getDocumentRegion_(t):this.makeRegionFromBoundingRect_(t.getBoundingClientRect())}},{key:"getScrollLeft",value:function(t){return e.isWindow(t)?t.pageXOffset:e.isDocument(t)?t.defaultView.pageXOffset:t.scrollLeft}},{key:"getScrollTop",value:function(t){return e.isWindow(t)?t.pageYOffset:e.isDocument(t)?t.defaultView.pageYOffset:t.scrollTop}},{key:"getSize_",value:function(t,n){if(e.isWindow(t))return this.getClientSize_(t,n);if(e.isDocument(t)){var i=t.documentElement;return Math.max(t.body["scroll"+n],i["scroll"+n],t.body["offset"+n],i["offset"+n],i["client"+n])}return Math.max(t["client"+n],t["scroll"+n],t["offset"+n])}},{key:"getWidth",value:function(e){return this.getSize_(e,"Width")}},{key:"intersectRegion",value:function(e,n){return t.intersectRect(e.top,e.left,e.bottom,e.right,n.top,n.left,n.bottom,n.right)}},{key:"insideRegion",value:function(e,t){return t.top>=e.top&&t.bottom<=e.bottom&&t.right<=e.right&&t.left>=e.left}},{key:"insideViewport",value:function(e){return this.insideRegion(this.getRegion(window),e)}},{key:"intersection",value:function(e,t){if(!this.intersectRegion(e,t))return null;var n=Math.min(e.bottom,t.bottom),i=Math.min(e.right,t.right),o=Math.max(e.left,t.left),s=Math.max(e.top,t.top);return this.makeRegion(n,n-s,o,i,s,i-o)}},{key:"makeRegion",value:function(e,t,n,i,o,s){return{bottom:e,height:t,left:n,right:i,top:o,width:s}}},{key:"makeRegionFromBoundingRect_",value:function(e){return this.makeRegion(e.bottom,e.height,e.left,e.right,e.top,e.width)}}]),n}();this.ui.position=n}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"equal",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return e.length===t.length}},{key:"firstDefinedValue",value:function(e){for(var t=0;t<e.length;t++)if(void 0!==e[t])return e[t]}},{key:"flatten",value:function(t,n){for(var i=n||[],o=0;o<t.length;o++)Array.isArray(t[o])?e.flatten(t[o],i):i.push(t[o]);return i}},{key:"remove",value:function(t,n){var i,o=t.indexOf(n);return(i=o>=0)&&e.removeAt(t,o),i}},{key:"removeAt",value:function(e,t){return 1===Array.prototype.splice.call(e,t,1).length}}]),e}();this.ui.array=e}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.Disposable,n=this.ui.EventHandle,i=function(t){function i(){babelHelpers.classCallCheck(this,i),babelHelpers.get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.events_=[],this.maxListeners_=10,this.shouldUseFacade_=!1}return babelHelpers.inherits(i,t),babelHelpers.createClass(i,[{key:"addListener",value:function(e,t){this.validateListener_(t),e=this.normalizeEvents_(e);for(var i=0;i<e.length;i++)this.addSingleListener_(e[i],t);return new n(this,e,t)}},{key:"addSingleListener_",value:function(e,t,n){this.emit("newListener",e,t),this.events_[e]||(this.events_[e]=[]),this.events_[e].push({fn:t,origin:n});var i=this.events_[e];i.length>this.maxListeners_&&!i.warned&&(console.warn("Possible EventEmitter memory leak detected. %d listeners added for event %s. Use emitter.setMaxListeners() to increase limit.",i.length,e),i.warned=!0)}},{key:"disposeInternal",value:function(){this.events_=[]}},{key:"emit",value:function(e){var t=Array.prototype.slice.call(arguments,1),n=!1,i=this.listeners(e);if(this.getShouldUseFacade()){var o={type:e};t=[o].concat(t)}for(var s=0;s<i.length;s++)i[s].apply(this,t),n=!0;return n}},{key:"getShouldUseFacade",value:function(){return this.shouldUseFacade_}},{key:"listeners",value:function(e){return(this.events_[e]||[]).map(function(e){return e.fn})}},{key:"many",value:function(e,t,i){e=this.normalizeEvents_(e);for(var o=0;o<e.length;o++)this.many_(e[o],t,i);return new n(this,e,i)}},{key:"many_",value:function(e,t,n){function i(){0===--t&&o.removeListener(e,i),n.apply(o,arguments)}var o=this;0>=t||o.addSingleListener_(e,i,n)}},{key:"matchesListener_",value:function(e,t){return e.fn===t||e.origin&&e.origin===t}},{key:"normalizeEvents_",value:function(t){return e.isString(t)?[t]:t}},{key:"off",value:function(e,t){this.validateListener_(t),e=this.normalizeEvents_(e);for(var n=0;n<e.length;n++){var i=this.events_[e[n]]||[];this.removeMatchingListenerObjs_(i,t)}return this}},{key:"on",value:function(){return this.addListener.apply(this,arguments)}},{key:"once",value:function(e,t){return this.many(e,1,t)}},{key:"removeAllListeners",value:function(e){if(e)for(var t=this.normalizeEvents_(e),n=0;n<t.length;n++)this.events_[t[n]]=null;else this.events_={};return this}},{key:"removeMatchingListenerObjs_",value:function(e,t){for(var n=e.length-1;n>=0;n--)this.matchesListener_(e[n],t)&&e.splice(n,1)}},{key:"removeListener",value:function(){return this.off.apply(this,arguments)}},{key:"setMaxListeners",value:function(e){return this.maxListeners_=e,this}},{key:"setShouldUseFacade",value:function(e){return this.shouldUseFacade_=e,this}},{key:"validateListener_",value:function(t){if(!e.isFunction(t))throw new TypeError("Listener must be a function")}}]),i}(t);this.ui.EventEmitter=i}.call(this),function(){"use strict";var e=this.ui.core,t={};t.throwException=function(e){t.nextTick(function(){throw e})},t.run=function(e,n){t.run.workQueueScheduled_||(t.nextTick(t.run.processWorkQueue),t.run.workQueueScheduled_=!0),t.run.workQueue_.push(new t.run.WorkItem_(e,n))},t.run.workQueueScheduled_=!1,t.run.workQueue_=[],t.run.processWorkQueue=function(){for(;t.run.workQueue_.length;){var e=t.run.workQueue_;t.run.workQueue_=[];for(var n=0;n<e.length;n++){var i=e[n];try{i.fn.call(i.scope)}catch(o){t.throwException(o)}}}t.run.workQueueScheduled_=!1},t.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},t.nextTick=function(n,i){var o=n;return i&&(o=n.bind(i)),o=t.nextTick.wrapCallback_(o),e.isFunction(window.setImmediate)?void window.setImmediate(o):(t.nextTick.setImmediate_||(t.nextTick.setImmediate_=t.nextTick.getSetImmediateEmulator_()),void t.nextTick.setImmediate_(o))},t.nextTick.setImmediate_=null,t.nextTick.getSetImmediateEmulator_=function(){var e=window.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var i="callImmediate"+Math.random(),o=t.location.protocol+"//"+t.location.host,s=function(e){(e.origin===o||e.data===i)&&this.port1.onmessage()}.bind(this);t.addEventListener("message",s,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(i,o)}}}),"undefined"!=typeof e){var t=new e,n={},i=n;return t.port1.onmessage=function(){n=n.next;var e=n.cb;n.cb=null,e()},function(e){i.next={cb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){setTimeout(e,0)}},t.nextTick.wrapCallback_=function(e){return e},this.ui.async=t}.call(this),function(){"use strict";var e=this.ui.array,t=this.ui.core,n=this.ui.object,i=this.ui.EventEmitter,o=this.ui.async,s=function(i){function s(e){babelHelpers.classCallCheck(this,s),babelHelpers.get(Object.getPrototypeOf(s.prototype),"constructor",this).call(this),this.scheduledBatchData_=null,this.attrsInfo_={},this.mergeInvalidAttrs_(),this.addAttrsFromStaticHint_(e)}return babelHelpers.inherits(s,i),babelHelpers.createClass(s,[{key:"addAttr",value:function(e,t,n){this.buildAttrInfo_(e,t,n),Object.defineProperty(this,e,{configurable:!0,get:this.getAttrValue_.bind(this,e),set:this.setAttrValue_.bind(this,e)})}},{key:"addAttrs",value:function(e,t,n){t=t||{};for(var i=Object.keys(e),o={},s=0;s<i.length;s++){var a=i[s];this.buildAttrInfo_(a,e[a],t[a]),o[a]=this.buildAttrPropertyDef_(a)}n!==!1&&Object.defineProperties(n||this,o)}},{key:"addAttrsFromStaticHint_",value:function(e){var n=this.constructor,i=!1;t.mergeSuperClassesProperty(n,"ATTRS",this.mergeAttrs_)&&(i=n.prototype),this.addAttrs(n.ATTRS_MERGED,e,i)}},{key:"assertValidAttrName_",value:function(e){if(this.constructor.INVALID_ATTRS_MERGED[e])throw new Error("It's not allowed to create an attribute with the name \""+e+'".')}},{key:"buildAttrInfo_",value:function(e,t,n){this.assertValidAttrName_(e),this.attrsInfo_[e]={config:t||{},initialValue:n,state:s.States.UNINITIALIZED}}},{key:"buildAttrPropertyDef_",value:function(e){return{configurable:!0,get:function(){return this.getAttrValue_(e)},set:function(t){this.setAttrValue_(e,t)}}}},{key:"callFunction_",value:function(e,n){return t.isString(e)?this[e].apply(this,n):t.isFunction(e)?e.apply(this,n):void 0}},{key:"callSetter_",value:function(e,t){var n=this.attrsInfo_[e],i=n.config;return i.setter&&(t=this.callFunction_(i.setter,[t])),t}},{key:"callValidator_",value:function(e,t){var n=this.attrsInfo_[e],i=n.config;return i.validator?this.callFunction_(i.validator,[t]):!0}},{key:"canSetAttribute",value:function(e){var t=this.attrsInfo_[e];return!t.config.writeOnce||!t.written}},{key:"disposeInternal",value:function(){babelHelpers.get(Object.getPrototypeOf(s.prototype),"disposeInternal",this).call(this),this.attrsInfo_=null,this.scheduledBatchData_=null}},{key:"emitBatchEvent_",value:function(){if(!this.isDisposed()){var e=this.scheduledBatchData_;this.scheduledBatchData_=null,this.emit("attrsChanged",e)}}},{key:"getAttrConfig",value:function(e){return(this.attrsInfo_[e]||{}).config}},{key:"getAttrs",value:function(){for(var e={},t=this.getAttrNames(),n=0;n<t.length;n++)e[t[n]]=this[t[n]];return e}},{key:"getAttrNames",value:function(){return Object.keys(this.attrsInfo_)}},{key:"getAttrValue_",value:function(e){return this.initAttr_(e),this.attrsInfo_[e].value}},{key:"informChange_",value:function(e,t){if(this.shouldInformChange_(e,t)){var n={attrName:e,newVal:this[e],prevVal:t};this.emit(e+"Changed",n),this.scheduleBatchEvent_(n)}}},{key:"initAttr_",value:function(e){var t=this.attrsInfo_[e];t.state===s.States.UNINITIALIZED&&(t.state=s.States.INITIALIZING,this.setInitialValue_(e),t.written||(t.state=s.States.INITIALIZING_DEFAULT,this.setDefaultValue_(e)),t.state=s.States.INITIALIZED)}},{key:"mergeAttrs_",value:function(e){return n.mixin.apply(null,[{}].concat(e.reverse()))}},{key:"mergeInvalidAttrs_",value:function(){t.mergeSuperClassesProperty(this.constructor,"INVALID_ATTRS",function(t){return e.flatten(t).reduce(function(e,t){return t&&(e[t]=!0),e},{})})}},{key:"removeAttr",value:function(e){this.attrsInfo_[e]=null,delete this[e]}},{key:"scheduleBatchEvent_",value:function(e){this.scheduledBatchData_||(o.nextTick(this.emitBatchEvent_,this),this.scheduledBatchData_={changes:{}});var t=e.attrName,n=this.scheduledBatchData_.changes;n[t]?n[t].newVal=e.newVal:n[t]=e}},{key:"setAttrs",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)this[t[n]]=e[t[n]]}},{key:"setAttrValue_",value:function(e,t){if(this.canSetAttribute(e)&&this.validateAttrValue_(e,t)){var n=this.attrsInfo_[e];void 0===n.initialValue&&n.state===s.States.UNINITIALIZED&&(n.state=s.States.INITIALIZED);var i=this[e];n.value=this.callSetter_(e,t),n.written=!0,this.informChange_(e,i)}}},{key:"setDefaultValue_",value:function(e){var t=this.attrsInfo_[e].config;this[e]=void 0!==t.value?t.value:this.callFunction_(t.valueFn)}},{key:"setInitialValue_",value:function(e){var t=this.attrsInfo_[e];void 0!==t.initialValue&&(this[e]=t.initialValue,t.initialValue=void 0)}},{key:"shouldInformChange_",value:function(e,n){var i=this.attrsInfo_[e];return i.state===s.States.INITIALIZED&&(t.isObject(n)||n!==this[e])}},{key:"validateAttrValue_",value:function(e,t){var n=this.attrsInfo_[e];return n.state===s.States.INITIALIZING_DEFAULT||this.callValidator_(e,t)}}]),s}(i);s.INVALID_ATTRS=["attrs"],s.States={UNINITIALIZED:0,INITIALIZING:1,INITIALIZING_DEFAULT:2,INITIALIZED:3},this.ui.Attribute=s}.call(this),function(){"use strict";var e=this.ui.dom,t=this.ui.Disposable,n=function(t){function n(e,t,i,o){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.blacklist_=i||{},this.originEmitter_=e,this.proxiedEvents_={},this.targetEmitter_=t,this.whitelist_=o,this.startProxy_()}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"disposeInternal",value:function(){var e=this.originEmitter_.removeEventListener?"removeEventListener":"removeListener";for(var t in this.proxiedEvents_)this.originEmitter_[e](t,this.proxiedEvents_[t]);this.proxiedEvents_=null,this.originEmitter_=null,this.targetEmitter_=null}},{key:"proxyEvent_",value:function(e){if(this.shouldProxyEvent_(e)){var t=this;this.proxiedEvents_[e]=function(){var n=[e].concat(Array.prototype.slice.call(arguments,0));t.targetEmitter_.emit.apply(t.targetEmitter_,n)};var n=this.originEmitter_.addEventListener?"addEventListener":"on";this.originEmitter_[n](e,this.proxiedEvents_[e])}}},{key:"shouldProxyEvent_",value:function(t){return this.whitelist_&&!this.whitelist_[t]?!1:this.blacklist_[t]?!1:!this.proxiedEvents_[t]&&(!(this.originEmitter_.removeEventListener||this.originEmitter_.addEventListener)||e.supportsEvent(this.originEmitter_,t))}},{key:"startProxy_",value:function(){this.targetEmitter_.on("newListener",this.proxyEvent_.bind(this))}}]),n}(t);this.ui.EventEmitterProxy=n}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.dom,n=this.ui.position,i=this.ui.Attribute,o=this.ui.EventEmitter,s=this.ui.EventEmitterProxy,a=function(i){function a(e){babelHelpers.classCallCheck(this,a),babelHelpers.get(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,e),a.emitter_||(a.emitter_=new o,a.proxy_=new s(document,a.emitter_,null,{scroll:!0})),this.lastPosition_=null,this.scrollHandle_=a.emitter_.on("scroll",this.checkPosition.bind(this)),this.on("elementChanged",this.checkPosition),this.on("offsetTopChanged",this.checkPosition),this.on("offsetBottomChanged",this.checkPosition),this.checkPosition()}return babelHelpers.inherits(a,i),babelHelpers.createClass(a,[{key:"disposeInternal",value:function(){t.removeClasses(this.element,a.Position.Bottom+" "+a.Position.Default+" "+a.Position.Top),this.scrollHandle_.dispose(),babelHelpers.get(Object.getPrototypeOf(a.prototype),"disposeInternal",this).call(this)}},{key:"checkPosition",value:function(){this.syncPosition(this.intersectTopRegion()?a.Position.Top:this.intersectBottomRegion()?a.Position.Bottom:a.Position.Default)}},{key:"intersectBottomRegion",value:function(){if(!e.isDef(this.offsetBottom))return!1;var t=n.getHeight(this.scrollElement),i=n.getClientHeight(this.scrollElement);return n.getScrollTop(this.scrollElement)+i>=t-this.offsetBottom}},{key:"intersectTopRegion",value:function(){return e.isDef(this.offsetTop)?n.getScrollTop(this.scrollElement)<=this.offsetTop:!1}},{key:"syncPosition",value:function(e){this.lastPosition_!==e&&(t.addClasses(this.element,e),t.removeClasses(this.element,this.lastPosition_),this.lastPosition_=e)}}]),a}(i);a.Position={Top:"affix-top",Bottom:"affix-bottom",Default:"affix-default"},a.ATTRS={scrollElement:{setter:t.toElement,value:document},offsetTop:{validator:e.isNumber},offsetBottom:{validator:e.isNumber},element:{setter:t.toElement}},this.ui.Affix=a}.call(this),function(){"use strict";var e=this.ui.dom,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"checkAttrOrderChange",value:function(){if(void 0===t.attrOrderChange_){var n='<div data-component="" data-ref=""></div>',i=document.createElement("div");e.append(i,n),t.attrOrderChange_=n!==i.innerHTML}return t.attrOrderChange_}}]),t}();t.attrOrderChange_=void 0,this.ui.features=t}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"collapseBreakingSpaces",value:function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}},{key:"hashCode",value:function(e){for(var t=0,n=0,i=e.length;i>n;n++)t=31*t+e.charCodeAt(n),t%=4294967296;return t}},{key:"replaceInterval",value:function(e,t,n,i){return e.substring(0,t)+i+e.substring(n)}}]),e}();this.ui.string=e}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.string,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"compress",value:function(e){var t={};return e=n.preserveBlocks_(e,t),e=n.simplifyDoctype_(e),e=n.removeComments_(e),e=n.removeIntertagSpaces_(e),e=n.collapseBreakingSpaces_(e),e=n.removeSpacesInsideTags_(e),e=n.removeSurroundingSpaces_(e),e=n.returnBlocks_(e,t),e.trim()}},{key:"collapseBreakingSpaces_",value:function(e){return t.collapseBreakingSpaces(e)}},{key:"lookupPossibleTagBoundary_",value:function(e,t){var n=e.indexOf(t);return n>-1&&(n+=e.substring(n).indexOf(">")+1),n}},{key:"preserveBlocks_",value:function(e,t){return e=n.preserveOuterHtml_(e,"<!--[if","<![endif]-->",t),e=n.preserveInnerHtml_(e,"<code","</code",t),e=n.preserveInnerHtml_(e,"<pre","</pre",t),e=n.preserveInnerHtml_(e,"<script","</script",t),e=n.preserveInnerHtml_(e,"<style","</style",t),e=n.preserveInnerHtml_(e,"<textarea","</textarea",t)}},{key:"preserveInnerHtml_",value:function(e,t,i,o){for(var s=n.lookupPossibleTagBoundary_(e,t);s>-1;){var a=e.indexOf(i);e=n.preserveInterval_(e,s,a,o),e=e.replace(t,"%%%~1~%%%"),e=e.replace(i,"%%%~2~%%%"),s=n.lookupPossibleTagBoundary_(e,t)}return e=e.replace(/%%%~1~%%%/g,t),e=e.replace(/%%%~2~%%%/g,i)}},{key:"preserveInterval_",value:function(n,i,o,s){var a="%%%~BLOCK~"+e.getUid()+"~%%%";return s[a]=n.substring(i,o),t.replaceInterval(n,i,o,a)}},{key:"preserveOuterHtml_",value:function(e,t,i,o){for(var s=e.indexOf(t);s>-1;){var a=e.indexOf(i)+i.length;e=n.preserveInterval_(e,s,a,o),s=e.indexOf(t)}return e}},{key:"removeComments_",value:function(e){var t={};return e=n.preserveOuterHtml_(e,"<![CDATA[","]]>",t),e=n.preserveOuterHtml_(e,"<!--","-->",t),e=n.replacePreservedBlocks_(e,t,"")}},{key:"removeIntertagSpaces_",value:function(e){return e=e.replace(n.Patterns.INTERTAG_CUSTOM_CUSTOM,"~%%%%%%~"),e=e.replace(n.Patterns.INTERTAG_CUSTOM_TAG,"~%%%<"),e=e.replace(n.Patterns.INTERTAG_TAG,"><"),e=e.replace(n.Patterns.INTERTAG_TAG_CUSTOM,">%%%~")}},{key:"removeSpacesInsideTags_",value:function(e){return e=e.replace(n.Patterns.TAG_END_SPACES,"$1$2"),e=e.replace(n.Patterns.TAG_QUOTE_SPACES,"=$1$2$3")}},{key:"removeSurroundingSpaces_",value:function(e){return e.replace(n.Patterns.SURROUNDING_SPACES,"$1")}},{key:"replacePreservedBlocks_",value:function(e,t,n){for(var i in t)e=e.replace(i,n);return e}},{key:"simplifyDoctype_",value:function(e){var t={};return e=n.preserveOuterHtml_(e,"<!DOCTYPE",">",t),e=n.replacePreservedBlocks_(e,t,"<!DOCTYPE html>")}},{key:"returnBlocks_",value:function(e,t){for(var n in t)e=e.replace(n,t[n]);return e}}]),n}();n.Patterns={INTERTAG_CUSTOM_CUSTOM:/~%%%\s+%%%~/g,INTERTAG_TAG_CUSTOM:/>\s+%%%~/g,INTERTAG_CUSTOM_TAG:/~%%%\s+</g,INTERTAG_TAG:/>\s+</g,SURROUNDING_SPACES:/\s*(<[^>]+>)\s*/g,TAG_END_SPACES:/(<(?:[^>]+?))(?:\s+?)(\/?>)/g,TAG_QUOTE_SPACES:/\s*=\s*(["']?)\s*(.*?)\s*(\1)/g},this.ui.html=n}.call(this),function(){"use strict";var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"getConstructor",value:function(t){var n=e.components_[t];return n||console.error("There's no constructor registered for the component named "+t+". Components need to be registered via ComponentRegistry.register."),n}},{key:"register",value:function(t,n){e.components_[t]=n,n.NAME=t,n.TEMPLATES=e.Templates[t]}}]),e}();e.components_={},e.Templates={},this.ui.ComponentRegistry=e}.call(this),function(){"use strict";var e=this.ui.ComponentRegistry,t=this.ui.Disposable,n=function(t){function n(){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.nextComponentData_={}}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"createComponent",value:function(t,i){var o=n.components[i];if(!o){var s=e.getConstructor(t),a=this.getNextComponentData(i);a.element="#"+i,o=new s(a),n.components[i]=o}return o}},{key:"getNextComponentData",value:function(e){var t=this.nextComponentData_[e]||{};return t.id=e,t}},{key:"setNextComponentData",value:function(e,t){this.nextComponentData_[e]=t}},{key:"updateComponent",value:function(e){var t=n.components[e];if(t){var i=this.getNextComponentData(e);t.setAttrs(i)}return t}}]),n}(t);n.components={},this.ui.ComponentCollector=n}.call(this),function(){"use strict";var e=this.ui.Disposable,t=function(e){function t(){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.eventHandles_=[]}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"add",value:function(){for(var e=0;e<arguments.length;e++)this.eventHandles_.push(arguments[e])}},{key:"disposeInternal",value:function(){this.eventHandles_=null}},{key:"removeAllListeners",value:function(){for(var e=0;e<this.eventHandles_.length;e++)this.eventHandles_[e].removeListener();this.eventHandles_=[]}}]),t}(e);this.ui.EventHandler=t}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.ComponentCollector,n=this.ui.Disposable,i=function(n){function i(e){if(babelHelpers.classCallCheck(this,i),babelHelpers.get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),!e)throw new Error("The component instance is mandatory");this.component_=e,this.eventHandles_={},this.groupHasListener_={}}return babelHelpers.inherits(i,n),babelHelpers.createClass(i,[{key:"attachListener_",value:function(e,t,n){var i="[data-on"+e+'="'+t+'"]';if(this.groupHasListener_[n][i]=!0,!this.eventHandles_[i]){var o=this.getListenerFn_(t);this.eventHandles_[i]=this.component_.delegate(e,i,o)}}},{key:"attachListeners",value:function(t,n){e.isString(t)&&(this.groupHasListener_[n]={},this.attachListenersFromHtml_(t,n))}},{key:"attachListenersFromHtml_",value:function(e,t){if(-1!==e.indexOf("data-on"))for(var n=/data-on([a-z]+)=['"]([^'"]+)['"]/g,i=n.exec(e);i;)this.attachListener_(i[1],i[2],t),i=n.exec(e)}},{key:"detachAllListeners",value:function(){for(var e in this.eventHandles_)this.eventHandles_[e]&&this.eventHandles_[e].removeListener();this.eventHandles_={},this.listenerCounts_={}}},{key:"detachUnusedListeners",value:function(){for(var e in this.eventHandles_){var t=!0;for(var n in this.groupHasListener_)if(this.groupHasListener_[n][e]){t=!1;break}t&&(this.eventHandles_[e].removeListener(),this.eventHandles_[e]=null)}}},{key:"disposeInternal",value:function(){this.detachAllListeners(),this.component_=null}},{key:"getListenerFn_",value:function(e){var n,i=e.split(":");return 2===i.length&&(e=i[1],n=t.components[i[0]],n||console.error("No component with the id "+i[0]+" has been collectedyet. Make sure that you specify an id for an existing component when adding inline listeners.")),n=n||this.component_,n[e].bind(n)}}]),i}(n);this.ui.EventsCollector=i}.call(this),function(){"use strict";var e=this.ui.array,t=this.ui.core,n=this.ui.dom,i=this.ui.features,o=this.ui.html,s=this.ui.object,a=this.ui.string,r=this.ui.Attribute,l=this.ui.ComponentCollector,c=this.ui.EventEmitterProxy,u=this.ui.EventHandler,d=this.ui.EventsCollector,_=function(r){function l(n){babelHelpers.classCallCheck(this,l),babelHelpers.get(Object.getPrototypeOf(l.prototype),"constructor",this).call(this,n),this.collectedSurfaces_=[],this.components={},this.decorating_=!1,this.delegateEventHandler_=null,this.elementEventProxy_=null,this.eventsCollector_=new d(this),this.generatedIdCount_={},this.inDocument=!1,this.surfaces_=null,this.wasRendered=!1,this.DEFAULT_ELEMENT_PARENT=document.body,t.mergeSuperClassesProperty(this.constructor,"ELEMENT_CLASSES",this.mergeElementClasses_),t.mergeSuperClassesProperty(this.constructor,"ELEMENT_TAG_NAME",e.firstDefinedValue),t.mergeSuperClassesProperty(this.constructor,"SURFACE_TAG_NAME",e.firstDefinedValue),this.addSurfacesFromStaticHint_(),this.delegateEventHandler_=new u,this.created_()}return babelHelpers.inherits(l,r),babelHelpers.createClass(l,[{key:"addSingleListener_",value:function(e,t,i){!this.elementEventProxy_&&n.supportsEvent(this.constructor.ELEMENT_TAG_NAME_MERGED,e)&&(this.elementEventProxy_=new c(this.element,this)),babelHelpers.get(Object.getPrototypeOf(l.prototype),"addSingleListener_",this).call(this,e,t,i)}},{key:"addSurface",value:function(e,t){var n=t||{};return this.surfaces_[e]=n,n.componentName&&this.createSubComponent_(n.componentName,e),this.cacheSurfaceRenderAttrs_(e),this}},{key:"addSurfaces",value:function(e){for(var t in e)this.addSurface(t,e[t]);return this}},{key:"addSurfacesFromStaticHint_",value:function(){t.mergeSuperClassesProperty(this.constructor,"SURFACES",this.mergeObjects_),this.surfaces_={},this.surfacesRenderAttrs_={};var e=this.constructor.SURFACES_MERGED;for(var n in e)this.addSurface(n,s.mixin({},e[n]))}},{key:"attach",value:function(e,t){return this.inDocument||(this.renderElement_(e,t),this.inDocument=!0,this.wasRendered||this.updatePlaceholderSurfaces_(),this.attached()),this}},{key:"attachInlineListeners_",value:function(){this.eventsCollector_.attachListeners(this.getElementContent_()),this.elementContent_=null}},{key:"attached",value:function(){}},{key:"buildPlaceholderSurfaceData_",value:function(e,t){return{componentName:e===l.SurfaceType.COMPONENT?t:null}}},{key:"cacheSurfaceContent",value:function(e,t){var n=this.computeSurfaceCacheState_(t),i=this.getSurface(e);i.cacheState=n}},{key:"cacheSurfaceRenderAttrs_",value:function(e){for(var t=this.getSurface(e).renderAttrs||[],n=0;n<t.length;n++)this.surfacesRenderAttrs_[t[n]]=this.surfacesRenderAttrs_[t[n]]||{},this.surfacesRenderAttrs_[t[n]][e]=!0}},{key:"clearSurfacesCache_",value:function(){for(var e in this.surfaces_)this.getSurface(e).cacheState=l.Cache.NOT_INITIALIZED}},{key:"compareCacheStates_",value:function(e,t){return e!==l.Cache.NOT_INITIALIZED&&e!==l.Cache.NOT_CACHEABLE&&e===t;

}},{key:"computeSurfaceCacheState_",value:function(e){return t.isString(e)?(i.checkAttrOrderChange()&&(e=this.convertHtmlToBrowserFormat_(e)),a.hashCode(e)):l.Cache.NOT_CACHEABLE}},{key:"computeSurfacesCacheStateFromDom_",value:function(){for(var e in this.surfaces_)this.getSurface(e).componentName||this.cacheSurfaceContent(e,o.compress(this.getSurfaceElement(e).innerHTML))}},{key:"convertHtmlToBrowserFormat_",value:function(e){var t=document.createElement("div");return n.append(t,e),t.innerHTML}},{key:"created",value:function(){}},{key:"createPlaceholderSurface_",value:function(e,t,n,i){return e=e||this.generateSurfaceId_(t,i),this.getSurface(e)||this.addSurface(e,this.buildPlaceholderSurfaceData_(t,n)),e}},{key:"createSubComponent_",value:function(e,t){return this.components[t]=l.componentsCollector.createComponent(e,t),this.components[t]}},{key:"createSurfaceElement_",value:function(e){var t=document.createElement(this.constructor.SURFACE_TAG_NAME_MERGED);return t.id=e,t}},{key:"decorateAsSubComponent",value:function(){this.decorating_=!0,this.computeSurfacesCacheStateFromDom_(),this.renderAsSubComponent(),this.decorating_=!1}},{key:"decorateInternal",value:function(){}},{key:"delegate",value:function(e,t,i){var o=n.delegate(this.element,e,t,i);return this.delegateEventHandler_.add(o),o}},{key:"detach",value:function(){return this.inDocument&&(this.element.parentNode.removeChild(this.element),this.inDocument=!1,this.detached()),this.eventsCollector_.detachAllListeners(),this}},{key:"detached",value:function(){}},{key:"created_",value:function(){this.on("attrsChanged",this.handleAttributesChanges_),this.created()}},{key:"decorate",value:function(){if(this.inDocument)throw new Error(l.Error.ALREADY_RENDERED);return this.decorating_=!0,this.decorateInternal(),this.replaceSurfacePlaceholders_(this.getElementContent_()),this.computeSurfacesCacheStateFromDom_(),this.renderSurfacesContent_(this.surfaces_),this.attachInlineListeners_(),this.syncAttrs_(),this.attach(),this.decorating_=!1,this.wasRendered=!0,this}},{key:"disposeInternal",value:function(){this.detach(),this.elementEventProxy_&&(this.elementEventProxy_.dispose(),this.elementEventProxy_=null),this.delegateEventHandler_.removeAllListeners(),this.delegateEventHandler_=null,this.components=null,this.generatedIdCount_=null,this.surfaces_=null,this.surfacesRenderAttrs_=null,babelHelpers.get(Object.getPrototypeOf(l.prototype),"disposeInternal",this).call(this)}},{key:"syncAttrs_",value:function(){for(var e=this.getAttrNames(),t=0;t<e.length;t++)this.fireAttrChange_(e[t])}},{key:"syncAttrsFromChanges_",value:function(e){for(var t in e)this.fireAttrChange_(t,e[t])}},{key:"findElementById_",value:function(e){return document.getElementById(e)||this.element.querySelector("#"+e)}},{key:"fireAttrChange_",value:function(e,n){var i=this["sync"+e.charAt(0).toUpperCase()+e.slice(1)];t.isFunction(i)&&(n||(n={newVal:this[e],prevVal:void 0}),i.call(this,n.newVal,n.prevVal))}},{key:"generateSurfaceId_",value:function(e,t){var n=t||"",i=n?n+"-":"";this.generatedIdCount_[n]=(this.generatedIdCount_[n]||0)+1;var o=i+e+this.generatedIdCount_[n];return e===l.SurfaceType.COMPONENT?this.makeSurfaceId_(o):o}},{key:"getComponentHtml",value:function(e){return this.getWrapperHtml_(this.constructor.ELEMENT_TAG_NAME_MERGED,this.id,e)}},{key:"getElementContent",value:function(){}},{key:"getElementContent_",value:function(){return this.elementContent_=this.elementContent_||this.getElementContent(),this.elementContent_}},{key:"getElementExtendedContent",value:function(){return this.replaceSurfacePlaceholders_(this.getElementContent_())}},{key:"getModifiedSurfacesFromChanges_",value:function(e){var t=[];for(var n in e)t.push(this.surfacesRenderAttrs_[n]);return s.mixin.apply(null,t)}},{key:"getNonComponentSurfaceHtml",value:function(e,t){var n=this.makeSurfaceId_(e);return this.getWrapperHtml_(this.constructor.SURFACE_TAG_NAME_MERGED,n,t)}},{key:"getSurface",value:function(e){return this.surfaces_[e]||null}},{key:"getSurfaceContent",value:function(){}},{key:"getSurfaceContent_",value:function(e){var t=this.getSurface(e);return t.componentName?this.components[e].wasRendered?"":this.components[e].getElementExtendedContent():this.getSurfaceContent(e)}},{key:"getSurfaceElement",value:function(e){var t=this.getSurface(e);if(!t)return null;if(!t.element)if(t.componentName)t.element=this.components[e].element;else{var n=this.makeSurfaceId_(e);t.element=this.findElementById_(n)||this.createSurfaceElement_(n)}return t.element}},{key:"getSurfaceHtml",value:function(e,t){var n=this.getSurface(e);return n.componentName?this.components[e].getComponentHtml(t):this.getNonComponentSurfaceHtml(e,t)}},{key:"getWrapperHtml_",value:function(e,t,n){return"<"+e+' id="'+t+'">'+n+"</"+e+">"}},{key:"getSurfaces",value:function(){return this.surfaces_}},{key:"handleAttributesChanges_",value:function(e){this.inDocument&&this.renderSurfacesContent_(this.getModifiedSurfacesFromChanges_(e.changes)),this.syncAttrsFromChanges_(e.changes)}},{key:"makeId_",value:function(){return"metal_c_"+t.getUid(this)}},{key:"makeSurfaceId_",value:function(e){return this.id+"-"+e}},{key:"mergeElementClasses_",value:function(e){return e.filter(function(e){return e}).join(" ")}},{key:"mergeObjects_",value:function(e){return s.mixin.apply(null,[{}].concat(e.reverse()))}},{key:"removeSurface",value:function(e){var t=this.getSurfaceElement(e);return t&&t.parentNode&&t.parentNode.removeChild(t),delete this.surfaces_[e],this}},{key:"render",value:function(e,t){if(this.wasRendered)throw new Error(l.Error.ALREADY_RENDERED);return this.renderInternal(),this.clearSurfacesCache_(),this.renderSurfacesContent_(this.surfaces_),this.attachInlineListeners_(),this.syncAttrs_(),this.attach(e,t),this.wasRendered=!0,this}},{key:"renderAsSubComponent",value:function(){this.attachInlineListeners_(),this.syncAttrs_(),this.attach(),this.wasRendered=!0}},{key:"renderComponentSurface_",value:function(e,t){var i=this.components[e];if(i.wasRendered)l.componentsCollector.updateComponent(e);else if(t){var o=i.element;n.isEmpty(o)&&n.append(o,t),this.decorating_?i.decorateAsSubComponent():i.renderAsSubComponent()}else i.render()}},{key:"renderElement_",value:function(e,t){var i=this.element;if(i.id=this.id,t||!i.parentNode){var o=n.toElement(e)||this.DEFAULT_ELEMENT_PARENT;o.insertBefore(i,n.toElement(t))}}},{key:"renderInternal",value:function(){var e=this.getElementExtendedContent();e&&n.append(this.element,e)}},{key:"renderPlaceholderSurfaceContents_",value:function(e,t){var n=this;e.replace(l.SURFACE_REGEX,function(e,i,o){return o=o||n.generateSurfaceId_(i,t),n.renderSurfaceContent(o),e})}},{key:"renderSurfaceContent",value:function(e,n,i){var o=this.getSurface(e);if(o.componentName)return void this.renderComponentSurface_(e,n);var s=n||this.getSurfaceContent_(e);if(t.isDefAndNotNull(s)){var a=o.cacheState,r=i||s;this.cacheSurfaceContent(e,this.decorating_?s:r);var l=this.compareCacheStates_(o.cacheState,a);this.decorating_&&this.cacheSurfaceContent(e,r),l?(this.decorating_&&this.eventsCollector_.attachListeners(r,e),this.renderPlaceholderSurfaceContents_(s,e)):(this.eventsCollector_.attachListeners(r,e),this.replaceSurfaceContent_(e,s))}}},{key:"renderSurfacesContent_",value:function(e){this.generatedIdCount_={};for(var t in e)this.getSurface(t).handled||this.renderSurfaceContent(t);this.wasRendered&&(this.updatePlaceholderSurfaces_(),this.eventsCollector_.detachUnusedListeners())}},{key:"replaceSurfaceContent_",value:function(e,t){t=this.replaceSurfacePlaceholders_(t,e);var i=this.getSurfaceElement(e);n.removeChildren(i),n.append(i,t)}},{key:"replaceSurfacePlaceholders_",value:function(e,n){if(!t.isString(e))return e;var i=this;return e.replace(l.SURFACE_REGEX,function(e,t,o,s){o=i.createPlaceholderSurface_(o,t,s,n),i.getSurface(o).handled=!0;var a=i.getSurfaceContent_(o),r=i.replaceSurfacePlaceholders_(a,o),l=i.getSurfaceHtml(o,r);return i.collectedSurfaces_.push({cacheContent:a,content:r,surfaceId:o}),l})}},{key:"setterElementFn_",value:function(e){var t=n.toElement(e);return t||(t=this.valueElementFn_()),t}},{key:"syncElementClasses",value:function(e,t){var i=this.constructor.ELEMENT_CLASSES_MERGED;e&&(i=i+" "+e),t&&n.removeClasses(this.element,t),n.addClasses(this.element,i)}},{key:"updatePlaceholderSurface_",value:function(e){var t=e.surfaceId,i=this.getSurface(t);if(this.decorating_||i.element||i.componentName){var o=i.componentName?t:this.makeSurfaceId_(t),s=this.findElementById_(o);n.replace(s,this.getSurfaceElement(t)),this.renderSurfaceContent(t,e.content,e.cacheContent)}else this.cacheSurfaceContent(t,e.cacheContent),this.eventsCollector_.attachListeners(e.cacheContent,t)}},{key:"updatePlaceholderSurfaces_",value:function(){for(var e=this.collectedSurfaces_.length-1;e>=0;e--)this.updatePlaceholderSurface_(this.collectedSurfaces_[e]),this.getSurface(this.collectedSurfaces_[e].surfaceId).handled=!1;this.collectedSurfaces_=[]}},{key:"validatorElementFn_",value:function(e){return t.isElement(e)||t.isString(e)}},{key:"validatorElementClassesFn_",value:function(e){return t.isString(e)}},{key:"validatorIdFn_",value:function(e){return t.isString(e)}},{key:"valueElementFn_",value:function(){return document.createElement(this.constructor.ELEMENT_TAG_NAME_MERGED)}},{key:"valueIdFn_",value:function(){var e=this.element;return e&&e.id?e.id:this.makeId_()}}]),l}(r);_.componentsCollector=new l,_.ATTRS={element:{setter:"setterElementFn_",validator:"validatorElementFn_",valueFn:"valueElementFn_",writeOnce:!0},elementClasses:{validator:"validatorElementClassesFn_"},id:{validator:"validatorIdFn_",valueFn:"valueIdFn_",writeOnce:!0}},_.ELEMENT_CLASSES="component",_.ELEMENT_TAG_NAME="div",_.SURFACE_REGEX=/\%\%\%\%~(s|c)(?:-([^~:]+))?(?::([^~]+))?~\%\%\%\%/g,_.SURFACE_TAG_NAME="div",_.Cache={NOT_CACHEABLE:-1,NOT_INITIALIZED:-2},_.Error={ALREADY_RENDERED:"Component already rendered"},_.SurfaceType={COMPONENT:"c",NORMAL:"s"},_.INVALID_ATTRS=["components","elementContent"],this.ui.Component=_}.call(this),function(){"use strict";var e=this.ui.core,t=function(){};t.prototype.then=function(){},t.IMPLEMENTED_BY_PROP="$goog_Thenable",t.addImplementation=function(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0},t.isImplementedBy=function(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}};var n=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}},i={};i.throwException=function(e){i.nextTick(function(){throw e})},i.run=function(e,t){i.run.workQueueScheduled_||(i.nextTick(i.run.processWorkQueue),i.run.workQueueScheduled_=!0),i.run.workQueue_.push(new i.run.WorkItem_(e,t))},i.run.workQueueScheduled_=!1,i.run.workQueue_=[],i.run.processWorkQueue=function(){for(;i.run.workQueue_.length;){var e=i.run.workQueue_;i.run.workQueue_=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.fn.call(n.scope)}catch(o){i.throwException(o)}}}i.run.workQueueScheduled_=!1},i.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},i.nextTick=function(t,n){var o=t;return n&&(o=t.bind(n)),o=i.nextTick.wrapCallback_(o),e.isFunction(window.setImmediate)?void window.setImmediate(o):(i.nextTick.setImmediate_||(i.nextTick.setImmediate_=i.nextTick.getSetImmediateEmulator_()),void i.nextTick.setImmediate_(o))},i.nextTick.setImmediate_=null,i.nextTick.getSetImmediateEmulator_=function(){var e=window.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var i="callImmediate"+Math.random(),o=t.location.protocol+"//"+t.location.host,s=function(e){(e.origin===o||e.data===i)&&this.port1.onmessage()}.bind(this);t.addEventListener("message",s,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(i,o)}}}),"undefined"!=typeof e){var t=new e,n={},i=n;return t.port1.onmessage=function(){n=n.next;var e=n.cb;n.cb=null,e()},function(e){i.next={cb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){setTimeout(e,0)}},i.nextTick.wrapCallback_=function(e){return e};var o=function s(e,t){this.state_=s.State_.PENDING,this.result_=void 0,this.parent_=null,this.callbackEntries_=null,this.executing_=!1,s.UNHANDLED_REJECTION_DELAY>0?this.unhandledRejectionId_=0:0===s.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1);try{var n=this;e.call(t,function(e){n.resolve_(s.State_.FULFILLED,e)},function(e){n.resolve_(s.State_.REJECTED,e)})}catch(i){this.resolve_(s.State_.REJECTED,i)}};o.UNHANDLED_REJECTION_DELAY=0,o.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},o.CallbackEntry_=null,o.resolve=function(e){return new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){e.length||t(void 0);for(var i,o=0;i=e[o];o++)i.then(t,n)})},o.all=function(e){return new o(function(t,i){var o=e.length,s=[];if(!o)return void t(s);for(var a,r=function(e,n){o--,s[e]=n,0===o&&t(s)},l=function(e){i(e)},c=0;a=e[c];c++)a.then(n(r,c),l)})},o.firstFulfilled=function(e){return new o(function(t,i){var o=e.length,s=[];if(!o)return void t(void 0);for(var a,r=function(e){t(e)},l=function(e,t){o--,s[e]=t,0===o&&i(s)},c=0;a=e[c];c++)a.then(r,n(l,c))})},o.prototype.then=function(t,n,i){return this.addChildPromise_(e.isFunction(t)?t:null,e.isFunction(n)?n:null,i)},t.addImplementation(o),o.prototype.thenAlways=function(e,t){var n=function(){try{e.call(t)}catch(n){o.handleRejection_.call(null,n)}};return this.addCallbackEntry_({child:null,onRejected:n,onFulfilled:n}),this},o.prototype.thenCatch=function(e,t){return this.addChildPromise_(null,e,t)},o.prototype["catch"]=o.prototype.thenCatch,o.prototype.cancel=function(e){this.state_===o.State_.PENDING&&i.run(function(){var t=new o.CancellationError(e);this.cancelInternal_(t)},this)},o.prototype.cancelInternal_=function(e){this.state_===o.State_.PENDING&&(this.parent_?this.parent_.cancelChild_(this,e):this.resolve_(o.State_.REJECTED,e))},o.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var n,i=0,s=-1,a=0;n=this.callbackEntries_[a];a++){var r=n.child;if(r&&(i++,r===e&&(s=a),s>=0&&i>1))break}if(s>=0)if(this.state_===o.State_.PENDING&&1===i)this.cancelInternal_(t);else{var l=this.callbackEntries_.splice(s,1)[0];this.executeCallback_(l,o.State_.REJECTED,t)}}},o.prototype.addCallbackEntry_=function(e){this.callbackEntries_&&this.callbackEntries_.length||this.state_!==o.State_.FULFILLED&&this.state_!==o.State_.REJECTED||this.scheduleCallbacks_(),this.callbackEntries_||(this.callbackEntries_=[]),this.callbackEntries_.push(e)},o.prototype.addChildPromise_=function(t,n,i){var s={child:null,onFulfilled:null,onRejected:null};return s.child=new o(function(a,r){s.onFulfilled=t?function(e){try{var n=t.call(i,e);a(n)}catch(o){r(o)}}:a,s.onRejected=n?function(t){try{var s=n.call(i,t);!e.isDef(s)&&t instanceof o.CancellationError?r(t):a(s)}catch(l){r(l)}}:r}),s.child.parent_=this,this.addCallbackEntry_(s),s.child},o.prototype.unblockAndFulfill_=function(e){if(this.state_!==o.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=o.State_.PENDING,this.resolve_(o.State_.FULFILLED,e)},o.prototype.unblockAndReject_=function(e){if(this.state_!==o.State_.BLOCKED)throw new Error("CancellablePromise is not blocked.");this.state_=o.State_.PENDING,this.resolve_(o.State_.REJECTED,e)},o.prototype.resolve_=function(n,i){if(this.state_===o.State_.PENDING){if(this===i)n=o.State_.REJECTED,i=new TypeError("CancellablePromise cannot resolve to itself");else{if(t.isImplementedBy(i))return i=i,this.state_=o.State_.BLOCKED,void i.then(this.unblockAndFulfill_,this.unblockAndReject_,this);if(e.isObject(i))try{var s=i.then;if(e.isFunction(s))return void this.tryThen_(i,s)}catch(a){n=o.State_.REJECTED,i=a}}this.result_=i,this.state_=n,this.scheduleCallbacks_(),n!==o.State_.REJECTED||i instanceof o.CancellationError||o.addUnhandledRejection_(this,i)}},o.prototype.tryThen_=function(e,t){this.state_=o.State_.BLOCKED;var n=this,i=!1,s=function(e){i||(i=!0,n.unblockAndFulfill_(e))},a=function(e){i||(i=!0,n.unblockAndReject_(e))};try{t.call(e,s,a)}catch(r){a(r)}},o.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,i.run(this.executeCallbacks_,this))},o.prototype.executeCallbacks_=function(){for(;this.callbackEntries_&&this.callbackEntries_.length;){var e=this.callbackEntries_;this.callbackEntries_=[];for(var t=0;t<e.length;t++)this.executeCallback_(e[t],this.state_,this.result_)}this.executing_=!1},o.prototype.executeCallback_=function(e,t,n){t===o.State_.FULFILLED?e.onFulfilled(n):(this.removeUnhandledRejection_(),e.onRejected(n))},o.prototype.removeUnhandledRejection_=function(){var e;if(o.UNHANDLED_REJECTION_DELAY>0)for(e=this;e&&e.unhandledRejectionId_;e=e.parent_)clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0===o.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},o.addUnhandledRejection_=function(e,t){o.UNHANDLED_REJECTION_DELAY>0?e.unhandledRejectionId_=setTimeout(function(){o.handleRejection_.call(null,t)},o.UNHANDLED_REJECTION_DELAY):0===o.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,i.run(function(){e.hadUnhandledRejection_&&o.handleRejection_.call(null,t)}))},o.handleRejection_=i.throwException,o.setUnhandledRejectionHandler=function(e){o.handleRejection_=e},o.CancellationError=function(e){var t=function(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),e&&(this.message=e)};return babelHelpers.inherits(t,e),t}(Error),o.CancellationError.prototype.name="cancel","undefined"==typeof window.Promise&&(window.Promise=o),this.uiNamed.Promise={},this.uiNamed.Promise.CancellablePromise=o,this.uiNamed.Promise.async=i}.call(this),function(){"use strict";var e=this.ui.Component,t=this.ui.ComponentRegistry,n=this.ui.core,i=this.ui.dom,o=this.ui.EventHandler,s=this.uiNamed.Promise.CancellablePromise,a=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){this.eventHandler_=new o,this.eventHandler_.add(i.on(this.inputElement,"input",this.onInput_.bind(this))),this.on("select",this.selectValue_.bind(this))}},{key:"detached",value:function(){this.eventHandler_.removeAllListeners()}},{key:"formatData_",value:function(e){return this.format&&(e=e.map(function(e){return this.format(e)}.bind(this))),e}},{key:"loadData_",value:function(e){return new s(function(t,i){if(n.isFunction(this.data)){var o=this.data(e);Array.isArray(o)?t(o):o&&n.isFunction(o.then)?o.then(function(e){t(e)}):i("The returned value from data loader should be an array or a Promise")}else i("There is no provided data loader")}.bind(this))}},{key:"onInput_",value:function(){var e=this.inputElement.value;this.emit("query",e),this.loadData_(e).then(function(e){this.emit("result",this.formatData_(e))}.bind(this))["catch"](function(e){this.emit("error",e)}.bind(this))}},{key:"selectValue_",value:function(e){this.select&&(e=this.select(this.inputElement.value,e)),this.inputElement.value=e,this.inputElement.focus()}}]),t}(e);a.ATTRS={data:{validator:n.isFunction},format:{validator:n.isFunction},inputElement:{setter:i.toElement},select:{validator:n.isFunction}},t.register("AutoCompleteBase",a),this.ui.AutoCompleteBase=a}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.dom,n=this.ui.Component,i=soy.$$getDelegateFn,o=function(o){function s(t){babelHelpers.classCallCheck(this,s),babelHelpers.get(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,t),e.mergeSuperClassesProperty(this.constructor,"TEMPLATES",this.mergeObjects_),this.addSurfacesFromTemplates_(),this.surfaceBeingRendered_=null,this.firstSurfaceFound_={},this.nextSurfaceCallData_={}}return babelHelpers.inherits(s,o),babelHelpers.createClass(s,[{key:"addSurfacesFromTemplates_",value:function(){for(var e=this.constructor.TEMPLATES_MERGED,t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];if("content"!==i&&"__deltemplate"!==i.substr(0,13)){var o=this.getSurface(i);o||this.addSurface(i,{renderAttrs:e[i].params,templateName:i})}}}},{key:"buildComponentConfigData_",value:function(e,t){var n={id:e};for(var i in t)n[i]=t[i];return n}},{key:"buildPlaceholderSurfaceData_",value:function(e,t){var i=babelHelpers.get(Object.getPrototypeOf(s.prototype),"buildPlaceholderSurfaceData_",this).call(this,e,t);return e===n.SurfaceType.NORMAL&&(i.templateName=t),i}},{key:"generateSoySurfaceId_",value:function(e){return this.surfaceBeingRendered_||this.firstSurfaceFound_[e]?this.generateSurfaceId_(n.SurfaceType.NORMAL,this.surfaceBeingRendered_):(this.firstSurfaceFound_[e]=!0,e)}},{key:"getComponentHtml",value:function(e){return this.renderElementDelTemplate_(e)}},{key:"getElementContent",value:function(){return this.surfaceBeingRendered_=null,this.renderTemplateByName_("content",this)}},{key:"getNonComponentSurfaceHtml",value:function(e,t){return this.renderElementDelTemplate_(t,e)}},{key:"getSurfaceContent",value:function(e){var t=this.getSurface(e),n=this.nextSurfaceCallData_[e];return this.nextSurfaceCallData_[e]=null,this.surfaceBeingRendered_=e,this.renderTemplateByName_(t.templateName,n)}},{key:"handleGetDelegateFnCall_",value:function(e){var t=e.indexOf(".");return-1===t?this.handleTemplateCall_.bind(this,e):this.handleSurfaceCall_.bind(this,e.substr(t+1))}},{key:"handleSurfaceCall_",value:function(t,n){var i=n.surfaceId;return e.isDefAndNotNull(i)||(i=this.generateSoySurfaceId_(t)),this.nextSurfaceCallData_[i]=n,"%%%%~s-"+i+":"+t+"~%%%%"}},{key:"handleTemplateCall_",value:function(e,t){var i=(t||{}).id||this.generateSurfaceId_(n.SurfaceType.COMPONENT,this.surfaceBeingRendered_);return n.componentsCollector.setNextComponentData(i,this.buildComponentConfigData_(i,t)),"%%%%~c-"+i+":"+e+"~%%%%"}},{key:"renderElementDelTemplate_",value:function(e,t){var n=this.constructor.NAME;t&&(n+="."+this.getSurface(t).templateName);var i=soy.$$getDelegateFn(n,"element",!0),o={elementClasses:this.elementClasses,elementContent:s.sanitizeHtml(e||""),id:this.id||this.makeId_(),surfaceId:t};return i(o,null,{}).content}},{key:"renderTemplate_",value:function(e,t){soy.$$getDelegateFn=this.handleGetDelegateFnCall_.bind(this);var n=e(t||this,null,{}).content;return soy.$$getDelegateFn=i,n}},{key:"renderTemplateByName_",value:function(t,n){var i=this.constructor.TEMPLATES_MERGED[t];return e.isFunction(i)?this.renderTemplate_(i,n):void 0}},{key:"valueElementFn_",value:function(){var e=this.getComponentHtml();if(e){var n=t.buildFragment(e),i=n.childNodes[0];return n.removeChild(i),i}return babelHelpers.get(Object.getPrototypeOf(s.prototype),"valueElementFn_",this).call(this)}}],[{key:"sanitizeHtml",value:function(e){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e)}}]),s}(n);o.TEMPLATES={},this.ui.SoyComponent=o}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.SoyComponent,n=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"syncVisible",value:function(e){this.element.style.display=e?null:"none"}}]),t}(t);n.ATTRS={visible:{validator:e.isBoolean,value:!0}},this.ui.Component=n}.call(this),function(){"use strict";var e=this.ui.ComponentRegistry,t=e.Templates;"undefined"==typeof t.List&&(t.List={}),t.List.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("List.items"),"",!0)(e,null,n))},goog.DEBUG&&(t.List.content.soyTemplateName="Templates.List.content"),t.List.items=function(e,t,n){for(var i="",o=e.items,s=o.length,a=0;s>a;a++){var r=o[a];if(i+='<li class="list-item u-cf" data-index="'+soy.$$escapeHtmlAttribute(a)+'" data-onclick="handleClick">',r.icons){i+='<div class="list-icons u-pull-right">';for(var l=r.icons,c=l.length,u=0;c>u;u++){var d=l[u];i+='<span class="list-icon '+soy.$$escapeHtmlAttribute(d)+'"></span>'}i+="</div>"}i+=(r.img?'<span class="list-image u-pull-left '+soy.$$escapeHtmlAttribute(r.img["class"])+'"><img src="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(r.img.src))+'"></span>':"")+'<div class="list-main-content u-pull-left"><div class="list-text-primary">'+soy.$$escapeHtml(r.content)+"</div>"+(r.help?'<div class="list-text-secondary">'+soy.$$escapeHtml(r.help)+"</div>":"")+"</div></li>"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(i)},goog.DEBUG&&(t.List.items.soyTemplateName="Templates.List.items"),t.List.__deltemplate_s35_e3f298e9=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<ul id="'+soy.$$escapeHtmlAttribute(e.id)+'-items">'+soy.$$escapeHtml(e.elementContent)+"</ul>")},goog.DEBUG&&(t.List.__deltemplate_s35_e3f298e9.soyTemplateName="Templates.List.__deltemplate_s35_e3f298e9"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List.items"),"element",0,t.List.__deltemplate_s35_e3f298e9),t.List.__deltemplate_s41_88d36183=function(e,n,i){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("List"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.List.content(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.List.__deltemplate_s41_88d36183.soyTemplateName="Templates.List.__deltemplate_s41_88d36183"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List"),"",0,t.List.__deltemplate_s41_88d36183),t.List.__deltemplate_s47_4ac84340=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="list component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.List.__deltemplate_s47_4ac84340.soyTemplateName="Templates.List.__deltemplate_s47_4ac84340"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List"),"element",0,t.List.__deltemplate_s47_4ac84340),t.List.__deltemplate_s55_605e1843=function(e,n,i){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("List.items"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.List.items(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.List.__deltemplate_s55_605e1843.soyTemplateName="Templates.List.__deltemplate_s55_605e1843"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("List.items"),"",0,t.List.__deltemplate_s55_605e1843),t.List.items.params=["items"]}.call(this),function(){"use strict";var e=this.ui.Component,t=this.ui.ComponentRegistry,n=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"handleClick",value:function(e){this.emit("itemSelected",e.delegateTarget)}}]),t}(e);n.ELEMENT_CLASSES="list",n.ATTRS={items:{validator:Array.isArray,valueFn:function(){return[]}}},t.register("List",n),this.ui.List=n}.call(this),function(){"use strict";var e=this.ui.AutoCompleteBase,t=this.ui.ComponentRegistry,n=this.ui.core,i=this.ui.dom,o=this.ui.List,s=this.ui.position,a=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){babelHelpers.get(Object.getPrototypeOf(t.prototype),"attached",this).call(this),this.on("result",this.onDataResult_.bind(this)),this.list_.on("itemSelected",this.onItemSelected_.bind(this))}},{key:"created",value:function(){this.DEFAULT_ELEMENT_PARENT=this.inputElement.parentNode}},{key:"detached",value:function(){babelHelpers.get(Object.getPrototypeOf(t.prototype),"detached",this).call(this),this.list_.dispose(),this.disposeDocumentClickEvents_()}},{key:"renderInternal",value:function(){var e=s.getRegion(this.inputElement);this.element.style.top=e.bottom+"px",this.element.style.width=e.width+"px",this.list_=(new o).render(this.element)}},{key:"attachDocumentClickEvents_",value:function(){this.documentClickHandler_=i.on(document,"click",this.onDocumentClick_.bind(this)),this.listClickHandler_=i.on(this.list_.element,"click",this.onListClick_.bind(this))}},{key:"disposeDocumentClickEvents_",value:function(){this.documentClickHandler_&&(this.documentClickHandler_.dispose(),this.documentClickHandler_=null),this.listClickHandler_&&(this.listClickHandler_.dispose(),this.listClickHandler_=null)}},{key:"onDataResult_",value:function(e){e&&e.length>0?(this.list_.items=e,this.visible=!0):this.visible=!1}},{key:"onDocumentClick_",value:function(){this.visible=!1}},{key:"onItemSelected_",value:function(e){var t=parseInt(e.getAttribute("data-index"),10);this.emit("select",this.list_.items[t].text),this.visible=!1}},{key:"onListClick_",value:function(e){e.stopPropagation()}},{key:"syncVisible",value:function(e){e?(this.element.style.display=null,this.attachDocumentClickEvents_()):(this.element.style.display="none",this.disposeDocumentClickEvents_())}}]),t}(e);a.ELEMENT_CLASSES="autocomplete autocomplete-list",a.ATTRS={visible:{validator:n.isBoolean,value:!1}},t.register("AutoComplete",a),this.ui.AutoComplete=a}.call(this),function(){"use strict";var e={dragDrop:function(){return"undefined"!=typeof FileReader&&"draggable"in document.createElement("span")},ajaxUpload:function(){return!!window.FormData&&"upload"in new XMLHttpRequest}};this.ui.Features=e}.call(this),function(){"use strict";var e=this.ui.Component,t=this.ui.ComponentRegistry,n=this.ui.core,i=this.ui.dom,o=this.ui.EventHandler,s=this.ui.Features,a=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){this.isCompatible_&&(this.eventHandler_=new o,this.eventHandler_.add(this.on("dragenter",this.onDragEnter_,this),this.on("dragleave",this.onDragLeave_,this),this.on("dragover",this.preventEvent_,this),this.on("drop",this.onDrop_,this)))}},{key:"created",value:function(){this.isCompatible_=s.dragDrop()&&s.ajaxUpload()}},{key:"detached",value:function(){this.isCompatible_&&this.eventHandler_.removeAllListeners()}},{key:"onDragEnter_",value:function(e){this.preventEvent_(e),this.hoverClass&&i.addClasses(this.element,this.hoverClass)}},{key:"onDragLeave_",value:function(e){this.preventEvent_(e),this.hoverClass&&i.hasClass(e.target,this.hoverClass)&&i.removeClasses(this.element,this.hoverClass)}},{key:"onDrop_",value:function(e){this.preventEvent_(e),this.uploadFiles_(e.dataTransfer.files)}},{key:"preventEvent_",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"uploadFiles_",value:function(e){for(var t=new FormData,n=0;n<e.length;n++)t.append("file",e[n]);var i=new XMLHttpRequest;i.open("POST",this.uploadURL),i.onerror=function(){this.emit("uploadFailed")}.bind(this),i.onload=function(){this.emit("uploadFinished")}.bind(this),i.upload.onprogress=function(e){e.lengthComputable&&this.emit("uploadProgress",e.loaded/e.total*100|0)}.bind(this),i.send(t),this.emit("uploadStart",i)}}]),t}(e);a.ATTRS={hoverClass:{validator:function(e){return n.isString(e)||n.isNull(e)},value:"dragdrop-hover"},uploadURL:{validator:n.isString}},t.register("DragDropUpload",a),this.ui.DragDropUpload=a;

}.call(this),function(){"use strict";var e=this.ui.ComponentRegistry,t=e.Templates;"undefined"==typeof t.Modal&&(t.Modal={}),t.Modal.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.header"),"",!0)(e,null,n)+soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.body"),"",!0)(e,null,n)+soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"",!0)(e,null,n))},goog.DEBUG&&(t.Modal.content.soyTemplateName="Templates.Modal.content"),t.Modal.body=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.body?soy.$$escapeHtml(e.body):"")},goog.DEBUG&&(t.Modal.body.soyTemplateName="Templates.Modal.body"),t.Modal.footer=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.footer?soy.$$escapeHtml(e.footer):"")},goog.DEBUG&&(t.Modal.footer.soyTemplateName="Templates.Modal.footer"),t.Modal.header=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.header?'<a class="modal-close icon-12-close-long" data-onclick="close"></a>'+soy.$$escapeHtml(e.header):"")},goog.DEBUG&&(t.Modal.header.soyTemplateName="Templates.Modal.header"),t.Modal.__deltemplate_s78_65c2d4d4=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<section id="'+soy.$$escapeHtmlAttribute(e.id)+'-body">'+soy.$$escapeHtml(e.elementContent)+"</section>")},goog.DEBUG&&(t.Modal.__deltemplate_s78_65c2d4d4.soyTemplateName="Templates.Modal.__deltemplate_s78_65c2d4d4"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.body"),"element",0,t.Modal.__deltemplate_s78_65c2d4d4),t.Modal.__deltemplate_s84_c9897a65=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<footer id="'+soy.$$escapeHtmlAttribute(e.id)+'-footer">'+soy.$$escapeHtml(e.elementContent)+"</footer>")},goog.DEBUG&&(t.Modal.__deltemplate_s84_c9897a65.soyTemplateName="Templates.Modal.__deltemplate_s84_c9897a65"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"element",0,t.Modal.__deltemplate_s84_c9897a65),t.Modal.__deltemplate_s90_499dc9aa=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<header id="'+soy.$$escapeHtmlAttribute(e.id)+'-header">'+soy.$$escapeHtml(e.elementContent)+"</header>")},goog.DEBUG&&(t.Modal.__deltemplate_s90_499dc9aa.soyTemplateName="Templates.Modal.__deltemplate_s90_499dc9aa"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.header"),"element",0,t.Modal.__deltemplate_s90_499dc9aa),t.Modal.__deltemplate_s96_45b138fb=function(e,n,i){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.content(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.Modal.__deltemplate_s96_45b138fb.soyTemplateName="Templates.Modal.__deltemplate_s96_45b138fb"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal"),"",0,t.Modal.__deltemplate_s96_45b138fb),t.Modal.__deltemplate_s102_df8ef55a=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="modal component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.Modal.__deltemplate_s102_df8ef55a.soyTemplateName="Templates.Modal.__deltemplate_s102_df8ef55a"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal"),"element",0,t.Modal.__deltemplate_s102_df8ef55a),t.Modal.__deltemplate_s110_90747620=function(e,n,i){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.body"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.body(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.Modal.__deltemplate_s110_90747620.soyTemplateName="Templates.Modal.__deltemplate_s110_90747620"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.body"),"",0,t.Modal.__deltemplate_s110_90747620),t.Modal.__deltemplate_s115_231e36e7=function(e,n,i){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.footer(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.Modal.__deltemplate_s115_231e36e7.soyTemplateName="Templates.Modal.__deltemplate_s115_231e36e7"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.footer"),"",0,t.Modal.__deltemplate_s115_231e36e7),t.Modal.__deltemplate_s120_b8354b7d=function(e,n,i){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Modal.header"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Modal.header(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.Modal.__deltemplate_s120_b8354b7d.soyTemplateName="Templates.Modal.__deltemplate_s120_b8354b7d"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Modal.header"),"",0,t.Modal.__deltemplate_s120_b8354b7d),t.Modal.body.params=["body"],t.Modal.footer.params=["footer"],t.Modal.header.params=["header"]}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.dom,n=this.ui.Component,i=this.ui.ComponentRegistry,o=function(e){function n(e){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"close",value:function(){this.visible=!1}},{key:"disposeInternal",value:function(){t.exitDocument(this.overlayElement),babelHelpers.get(Object.getPrototypeOf(n.prototype),"disposeInternal",this).call(this)}},{key:"syncOverlay",value:function(e){t[e&&this.visible?"enterDocument":"exitDocument"](this.overlayElement)}},{key:"syncVisible",value:function(e){babelHelpers.get(Object.getPrototypeOf(n.prototype),"syncVisible",this).call(this,e),this.syncOverlay(this.overlay)}},{key:"valueOverlayElementFn_",value:function(){return t.buildFragment('<div class="overlay"></div>').firstChild}}]),n}(n);o.ELEMENT_CLASSES="modal",o.ATTRS={body:{},elementClasses:{value:"centered"},footer:{},header:{},overlay:{validator:e.isBoolean,value:!0},overlayElement:{initOnly:!0,valueFn:"valueOverlayElementFn_"}},i.register("Modal",o),this.ui.Modal=o}.call(this),function(){"use strict";var e=this.ui.position,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"align",value:function(e,t,n){var i=this.getAlignBestRegion(e,t,n),o=window.getComputedStyle(e,null);if("fixed"!==o.getPropertyValue("position")){var s=window.document.documentElement;i.top+=s.clientTop+window.pageYOffset,i.left+=s.clientLeft+window.pageXOffset}e.style.top=i.top+"px",e.style.left=i.left+"px"}},{key:"getAlignBestRegion",value:function(t,n,i){for(var o=0,s=i,a=this.getAlignRegion(t,n,s),r=s,l=a,c=e.getRegion(window),u=0;4>u;){if(e.intersectRegion(c,l)){var d=e.intersection(c,l),_=d.width*d.height;if(_>o&&(o=_,a=l,s=r),e.insideViewport(l))break}r=(i+ ++u)%4,l=this.getAlignRegion(t,n,r)}return a}},{key:"getAlignRegion",value:function(n,i,o){var s=e.getRegion(i),a=e.getRegion(n),r=0,l=0;switch(o){case t.Top:r=s.top-a.height,l=s.left+s.width/2-a.width/2;break;case t.Right:r=s.top+s.height/2-a.height/2,l=s.left+s.width;break;case t.Bottom:r=s.bottom,l=s.left+s.width/2-a.width/2;break;case t.Left:r=s.top+s.height/2-a.height/2,l=s.left-a.width}return{bottom:r+a.height,height:a.height,left:l,right:l+a.width,top:r,width:a.width}}},{key:"isValidPosition",value:function(e){return e>=0&&3>=e}}]),t}();t.Top=0,t.Right=1,t.Bottom=2,t.Left=3,this.ui.Position=t}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.dom,n=this.ui.position,i=this.ui.Attribute,o=function(e){function i(e){babelHelpers.classCallCheck(this,i),babelHelpers.get(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e),this.activeIndex=-1,this.regions=[],this.scrollHandle_=t.on(this.scrollElement,"scroll",this.checkPosition.bind(this)),this.refresh(),this.checkPosition(),this.on("elementChanged",this.refresh),this.on("offsetChanged",this.refresh),this.on("scrollElementChanged",this.refresh),this.on("selectorChanged",this.refresh)}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"disposeInternal",value:function(){this.deactivateAll(),this.scrollHandle_.dispose(),babelHelpers.get(Object.getPrototypeOf(i.prototype),"disposeInternal",this).call(this)}},{key:"activate",value:function(e){this.activeIndex>=0&&this.deactivate(this.activeIndex),this.activeIndex=e,t.addClasses(this.resolveElement(this.regions[e].link),this.activeClass)}},{key:"checkPosition",value:function(){var e=this.getScrollHeight_(),t=n.getScrollTop(this.scrollElement);if(this.activeIndex>=0&&t<this.offset)return void this.deactivateAll();if(e!==this.scrollHeight_)return void this.refresh();if(e<t+this.offset)return void this.activate(this.regions.length-1);var i=this.findBestRegionAt_(t);i>=0&&i!==this.activeIndex&&this.activate(i)}},{key:"deactivate",value:function(e){t.removeClasses(this.resolveElement(this.regions[e].link),this.activeClass)}},{key:"deactivateAll",value:function(){for(var e=0;e<this.regions.length;e++)this.deactivate(e);this.activeIndex=-1}},{key:"findBestRegionAt_",value:function(e){for(var t=-1,n=e+this.offset+this.scrollElementRegion_.top,i=0;i<this.regions.length;i++){var o=this.regions[i];if(n>=o.top&&n<o.bottom){t=i;break}}return t}},{key:"getScrollHeight_",value:function(){var e=n.getHeight(this.scrollElement);return e+=this.scrollElementRegion_.top,e-=n.getClientHeight(this.scrollElement)}},{key:"refresh",value:function(){this.deactivateAll(),this.scrollElementRegion_=n.getRegion(this.scrollElement),this.scrollHeight_=this.getScrollHeight_(),this.regions=[];for(var e=this.element.querySelectorAll(this.selector),t=n.getScrollTop(this.scrollElement),i=0;i<e.length;++i){var o=e[i];if(o.hash&&o.hash.length>1){var s=document.getElementById(o.hash.substring(1));if(s){var a=n.getRegion(s);this.regions.push({link:o,top:a.top+t,bottom:a.bottom+t})}}}this.sortRegions_()}},{key:"sortRegions_",value:function(){this.regions.sort(function(e,t){return e.top-t.top})}}]),i}(i);o.ATTRS={activeClass:{validator:e.isString,value:"active"},resolveElement:{validator:e.isFunction,value:e.identityFunction},scrollElement:{setter:t.toElement,value:document},offset:{validator:e.isNumber,value:0},element:{setter:t.toElement},selector:{validator:e.isString,value:"a"}},this.ui.Scrollspy=o}.call(this),function(){"use strict";var e=this.ui.ComponentRegistry,t=e.Templates;"undefined"==typeof t.Tooltip&&(t.Tooltip={}),t.Tooltip.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$escapeHtml(e.content))},goog.DEBUG&&(t.Tooltip.content.soyTemplateName="Templates.Tooltip.content"),t.Tooltip.__deltemplate_s128_8d49094e=function(e,n,i){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("Tooltip"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.Tooltip.content(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.Tooltip.__deltemplate_s128_8d49094e.soyTemplateName="Templates.Tooltip.__deltemplate_s128_8d49094e"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Tooltip"),"",0,t.Tooltip.__deltemplate_s128_8d49094e),t.Tooltip.__deltemplate_s134_71828d2a=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="tooltip component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.Tooltip.__deltemplate_s134_71828d2a.soyTemplateName="Templates.Tooltip.__deltemplate_s134_71828d2a"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("Tooltip"),"element",0,t.Tooltip.__deltemplate_s134_71828d2a),t.Tooltip.content.params=["content"]}.call(this),function(){"use strict";var e=this.ui.core,t=this.ui.dom,n=this.ui.Component,i=this.ui.EventHandler,o=this.ui.Position,s=this.ui.ComponentRegistry,a=function(e){function n(e){babelHelpers.classCallCheck(this,n),babelHelpers.get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.eventsHandler_=new i}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"attached",value:function(){this.align(),this.syncEvents(this.events)}},{key:"detached",value:function(){this.eventsHandler_.removeAllListeners()}},{key:"align",value:function(e){this.syncAlignElement(e||this.alignElement)}},{key:"callAsync_",value:function(e,t){clearTimeout(this.delay_),this.delay_=setTimeout(e.bind(this),t)}},{key:"handleHide",value:function(e){var t=e.delegateTarget&&e.delegateTarget!==this.alignElement;this.callAsync_(function(){this.locked_||(t?this.alignElement=e.delegateTarget:this.visible=!1)},this.delay[1])}},{key:"handleShow",value:function(e){this.callAsync_(function(){this.alignElement=e.delegateTarget,this.visible=!0},this.delay[0])}},{key:"handleToggle",value:function(e){this.visible?this.handleHide(e):this.handleShow(e)}},{key:"lock",value:function(){this.locked_=!0}},{key:"unlock",value:function(e){this.locked_=!1,this.handleHide(e)}},{key:"syncAlignElement",value:function(e){this.inDocument&&e&&n.Position.align(this.element,e,this.position)}},{key:"syncContent",value:function(e){this.inDocument&&(t.removeChildren(this.element),t.append(this.element,e))}},{key:"syncSelector",value:function(){this.syncEvents(this.events)}},{key:"syncEvents",value:function(e){if(this.inDocument){this.eventsHandler_.removeAllListeners();var n=this.selector;n&&(this.eventsHandler_.add(this.on("mouseenter",this.lock),this.on("mouseleave",this.unlock)),e[0]===e[1]?this.eventsHandler_.add(t.delegate(document,e[0],n,this.handleToggle.bind(this))):this.eventsHandler_.add(t.delegate(document,e[0],n,this.handleShow.bind(this)),t.delegate(document,e[1],n,this.handleHide.bind(this))))}}},{key:"syncVisible",value:function(e){babelHelpers.get(Object.getPrototypeOf(n.prototype),"syncVisible",this).call(this,e),this.align()}}]),n}(n);a.Position=o,a.ELEMENT_CLASSES="tooltip",a.ATTRS={alignElement:{setter:t.toElement},delay:{validator:Array.isArray,value:[500,250]},events:{validator:Array.isArray,value:["mouseenter","mouseleave"]},selector:{validator:e.isString},content:{validator:e.isString},position:{validator:a.Position.isValidPosition,value:a.Position.Bottom}},s.register("Tooltip",a),this.ui.Tooltip=a}.call(this),function(){"use strict";var e=this.ui.ComponentRegistry,t=e.Templates;"undefined"==typeof t.TooltipMenu&&(t.TooltipMenu={}),t.TooltipMenu.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"",!0)(e,null,n))},goog.DEBUG&&(t.TooltipMenu.content.soyTemplateName="Templates.TooltipMenu.content"),t.TooltipMenu.items=function(e,t,n){for(var i="",o=e.content,s=o.length,a=0;s>a;a++){var r=o[a];i+='<li class="tooltip-menu-item"><a class="tooltip-menu-link" href="'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(r.href?r.href:"#"))+'">'+soy.$$escapeHtml(r.content)+"</a></li>"}return soydata.VERY_UNSAFE.ordainSanitizedHtml(i)},goog.DEBUG&&(t.TooltipMenu.items.soyTemplateName="Templates.TooltipMenu.items"),t.TooltipMenu.__deltemplate_s153_cfc546d2=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<nav id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="tooltip-menu '+soy.$$escapeHtmlAttribute(e.elementClasses?e.elementClasses:"")+'" data-component>'+soy.$$escapeHtml(e.elementContent)+"</nav>")},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s153_cfc546d2.soyTemplateName="Templates.TooltipMenu.__deltemplate_s153_cfc546d2"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu"),"element",0,t.TooltipMenu.__deltemplate_s153_cfc546d2),t.TooltipMenu.__deltemplate_s161_c0ab3df3=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<ul id="'+soy.$$escapeHtmlAttribute(e.id)+'-items" class="tooltip-menu-list">'+soy.$$escapeHtml(e.elementContent)+"</ul>")},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s161_c0ab3df3.soyTemplateName="Templates.TooltipMenu.__deltemplate_s161_c0ab3df3"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"element",0,t.TooltipMenu.__deltemplate_s161_c0ab3df3),t.TooltipMenu.__deltemplate_s167_8f8c631d=function(e,n,i){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TooltipMenu"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.TooltipMenu.content(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s167_8f8c631d.soyTemplateName="Templates.TooltipMenu.__deltemplate_s167_8f8c631d"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu"),"",0,t.TooltipMenu.__deltemplate_s167_8f8c631d),t.TooltipMenu.__deltemplate_s173_8278e063=function(e,n,i){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.TooltipMenu.items(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.TooltipMenu.__deltemplate_s173_8278e063.soyTemplateName="Templates.TooltipMenu.__deltemplate_s173_8278e063"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TooltipMenu.items"),"",0,t.TooltipMenu.__deltemplate_s173_8278e063),t.TooltipMenu.items.params=["content"]}.call(this),function(){"use strict";var e=this.ui.Tooltip,t=this.ui.ComponentRegistry,n=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"syncContent",value:function(){}}]),t}(e);n.ELEMENT_CLASSES_MERGED="tooltip-menu component",n.ATTRS={delay:{validator:Array.isArray,value:[0,0]},events:{validator:Array.isArray,value:["click","click"]},content:{validator:Array.isArray,valueFn:function(){return[]}}},t.register("TooltipMenu",n),this.ui.TooltipMenu=n}.call(this),function(){"use strict";var e=this.ui.ComponentRegistry,t=e.Templates;"undefined"==typeof t.TreeView&&(t.TreeView={}),t.TreeView.content=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TreeView.nodes"),"",!0)(e,null,n))},goog.DEBUG&&(t.TreeView.content.soyTemplateName="Templates.TreeView.content"),t.TreeView.nodes=function(e,t,n){for(var i="",o=e.nodes,s=o.length,a=0;s>a;a++){var r=o[a],l=a;i+=soy.$$getDelegateFn(soy.$$getDelTemplateId("TreeView.node"),"",!0)({id:e.id,node:r,surfaceId:null!=e.parentSurfaceId?e.parentSurfaceId+"-"+l:l},null,n)}return soydata.VERY_UNSAFE.ordainSanitizedHtml(i)},goog.DEBUG&&(t.TreeView.nodes.soyTemplateName="Templates.TreeView.nodes"),t.TreeView.node=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml(e.node?'<div class="treeview-node-wrapper '+soy.$$escapeHtmlAttribute(e.node.expanded?"expanded":"")+'"><div class="treeview-node-main u-cf '+soy.$$escapeHtmlAttribute(e.node.children?"hasChildren":"")+'" data-onclick="handleNodeClicked_">'+(e.node.children?'<div class="treeview-node-toggler"></div>':"")+'<span class="treeview-node-name">'+soy.$$escapeHtml(e.node.name)+"</span></div>"+(e.node.children?soy.$$getDelegateFn(soy.$$getDelTemplateId("TreeView.nodes"),"",!0)({id:e.id,nodes:e.node.children,parentSurfaceId:e.surfaceId},null,n):"")+"</div>":"")},goog.DEBUG&&(t.TreeView.node.soyTemplateName="Templates.TreeView.node"),t.TreeView.__deltemplate_s210_6f4f2112=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<ul id="'+soy.$$escapeHtmlAttribute(e.id)+"-"+soy.$$escapeHtmlAttribute(e.surfaceId)+'" class="treeview-nodes">'+soy.$$escapeHtml(e.elementContent)+"</ul>")},goog.DEBUG&&(t.TreeView.__deltemplate_s210_6f4f2112.soyTemplateName="Templates.TreeView.__deltemplate_s210_6f4f2112"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TreeView.nodes"),"element",0,t.TreeView.__deltemplate_s210_6f4f2112),t.TreeView.__deltemplate_s218_68b4c502=function(e,t,n){return soydata.VERY_UNSAFE.ordainSanitizedHtml('<li id="'+soy.$$escapeHtmlAttribute(e.id)+"-"+soy.$$escapeHtmlAttribute(e.surfaceId)+'" class="treeview-node">'+soy.$$escapeHtml(e.elementContent)+"</li>")},goog.DEBUG&&(t.TreeView.__deltemplate_s218_68b4c502.soyTemplateName="Templates.TreeView.__deltemplate_s218_68b4c502"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TreeView.node"),"element",0,t.TreeView.__deltemplate_s218_68b4c502),t.TreeView.__deltemplate_s226_13da0f6e=function(e,n,i){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TreeView"),"element",!0)({elementClasses:e.elementClasses,elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.TreeView.content(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.TreeView.__deltemplate_s226_13da0f6e.soyTemplateName="Templates.TreeView.__deltemplate_s226_13da0f6e"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TreeView"),"",0,t.TreeView.__deltemplate_s226_13da0f6e),t.TreeView.__deltemplate_s232_38810b2c=function(e,t,n){return e=e||{},soydata.VERY_UNSAFE.ordainSanitizedHtml('<div id="'+soy.$$escapeHtmlAttribute(e.id)+'" class="treeview component'+soy.$$escapeHtmlAttribute(e.elementClasses?" "+e.elementClasses:"")+'">'+soy.$$escapeHtml(e.elementContent)+"</div>")},goog.DEBUG&&(t.TreeView.__deltemplate_s232_38810b2c.soyTemplateName="Templates.TreeView.__deltemplate_s232_38810b2c"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TreeView"),"element",0,t.TreeView.__deltemplate_s232_38810b2c),t.TreeView.__deltemplate_s240_c801199b=function(e,n,i){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TreeView.nodes"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.TreeView.nodes(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.TreeView.__deltemplate_s240_c801199b.soyTemplateName="Templates.TreeView.__deltemplate_s240_c801199b"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TreeView.nodes"),"",0,t.TreeView.__deltemplate_s240_c801199b),t.TreeView.__deltemplate_s245_f6fc17d6=function(e,n,i){return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$getDelegateFn(soy.$$getDelTemplateId("TreeView.node"),"element",!0)({elementContent:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+t.TreeView.node(e,null,i)),id:e.id},null,i))},goog.DEBUG&&(t.TreeView.__deltemplate_s245_f6fc17d6.soyTemplateName="Templates.TreeView.__deltemplate_s245_f6fc17d6"),soy.$$registerDelegateFn(soy.$$getDelTemplateId("TreeView.node"),"",0,t.TreeView.__deltemplate_s245_f6fc17d6),t.TreeView.nodes.params=["id","nodes"],t.TreeView.node.params=["id","node","surfaceId"]}.call(this),function(){"use strict";var e=this.ui.Component,t=this.ui.ComponentRegistry,n=this.ui.dom,i=function(e){function t(e){babelHelpers.classCallCheck(this,t),babelHelpers.get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attached",value:function(){this.on("nodesChanged",this.onNodesChanged_.bind(this))}},{key:"getNodeObj",value:function(e){for(var t=this.nodes[e[0]],n=1;n<e.length;n++)t=t.children[e[n]];return t}},{key:"getNodeObjFromId_",value:function(e){var t=e.substr(this.id.length+1).split("-");return this.getNodeObj(t)}},{key:"getSurfaceContent_",value:function(e){return this.ignoreSurfaceUpdate_?void(this.ignoreSurfaceUpdate_=!1):babelHelpers.get(Object.getPrototypeOf(t.prototype),"getSurfaceContent_",this).call(this,e)}},{key:"handleNodeClicked_",value:function(e){var t=e.delegateTarget.parentNode,i=this.getNodeObjFromId_(t.parentNode.id);i.expanded=!i.expanded,i.expanded?n.addClasses(t,"expanded"):n.removeClasses(t,"expanded"),this.nodes=this.nodes,this.ignoreSurfaceUpdate_=!0}},{key:"onNodesChanged_",value:function(){this.ignoreSurfaceUpdate_=!1}}]),t}(e);i.ELEMENT_CLASSES="treeview",i.ATTRS={nodes:{validator:Array.isArray,valueFn:function(){return[]}}},t.register("TreeView",i),this.ui.TreeView=i}.call(this);